/* RainLoop Webmail (c) RainLoop Team | Licensed under RainLoop Software License */
!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="source/v/0.0.0/static/js/min/",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=i(79),s=n(o),r=i(20),a=n(r);s.default(a.default)},function(e,t,i){!function(){"use strict";var t=null,n={},o=i(13),s=i(3),r=i(14),a=i(2),l=i(80),u=i(81),c=i(68),d=i(4),p=i(8);n.trim=r.trim,n.inArray=r.inArray,n.isArray=s.isArray,n.isObject=s.isObject,n.isFunc=s.isFunction,n.isUnd=s.isUndefined,n.isNull=s.isNull,n.emptyFunction=n.noop=function(){},n.isNormal=function(e){return!n.isUnd(e)&&!n.isNull(e)},n.windowResize=s.debounce(function(e){n.isUnd(e)?p.$win.resize():o.setTimeout(function(){p.$win.resize()},e)},50),n.windowResizeCallback=function(){n.windowResize()},n.isPosNumeric=function(e,t){return n.isNormal(e)?(n.isUnd(t)?0:!t)?/^[1-9]+[0-9]*$/.test(e.toString()):/^[0-9]*$/.test(e.toString()):!1},n.pInt=function(e,t){var i=n.isNormal(e)&&""!==e?o.parseInt(e,10):t||0;return o.isNaN(i)?t||0:i},n.pString=function(e){return n.isNormal(e)?""+e:""},n.pBool=function(e){return!!e},n.encodeURIComponent=function(e){return o.encodeURIComponent(e)},n.isNonEmptyArray=function(e){return n.isArray(e)&&0<e.length},n.simpleQueryParser=function(e){var t={},i=[],n=[],s=0,r=0;for(i=e.split("&"),s=0,r=i.length;r>s;s++)n=i[s].split("="),t[o.decodeURIComponent(n[0])]=o.decodeURIComponent(n[1]);return t},n.mailToHelper=function(e,t){if(e&&"mailto:"===e.toString().substr(0,7).toLowerCase()){if(!t)return!0;e=e.toString().substr(7);var r=[],a=null,l=null,u={},c=i(29),p=e.replace(/\?.+$/,""),f=e.replace(/^[^\?]*\?/,""),h=function(e){return e?s.compact(s.map(o.decodeURIComponent(e).split(/[,]/),function(e){var t=new c;return t.mailsoParse(e),""!==t.email?t:null})):null};return r=h(p),u=n.simpleQueryParser(f),n.isUnd(u.cc)||(a=h(o.decodeURIComponent(u.cc))),n.isUnd(u.bcc)||(l=h(o.decodeURIComponent(u.bcc))),i(5).showScreenPopup(t,[d.ComposeType.Empty,null,r,a,l,n.isUnd(u.subject)?null:n.pString(o.decodeURIComponent(u.subject)),n.isUnd(u.body)?null:n.plainToHtml(n.pString(o.decodeURIComponent(u.body)))]),!0}return!1},n.rsaObject=function(e){return u&&e&&(null===t||t&&t.__sPublicKey!==e)&&o.crypto&&o.crypto.getRandomValues?(t=new u,t.setPublicKey(e),t.__sPublicKey=e):t=!1,t},n.rsaEncode=function(e,t){if(o.crypto&&o.crypto.getRandomValues&&t){var i=!1,s=n.rsaObject(t);if(s&&(i=s.encrypt(n.fakeMd5()+":"+e+":"+n.fakeMd5()),!1!==i&&n.isNormal(i)))return"rsa:xxx:"+i}return e},n.rsaEncode.supported=!1,n.encodeHtml=function(e){return n.isNormal(e)?s.escape(e.toString()):""},n.splitPlainText=function(e,t){var i="",o="",s=e,r=0,a=0;for(t=n.isUnd(t)?100:t;s.length>t;)o=s.substring(0,t),r=o.lastIndexOf(" "),a=o.lastIndexOf("\n"),-1!==a&&(r=a),-1===r&&(r=t),i+=o.substring(0,r)+"\n",s=s.substring(r+1);return i+s},n.timeOutAction=function(){var e={};return function(t,i,s){n.isUnd(e[t])&&(e[t]=0),o.clearTimeout(e[t]),e[t]=o.setTimeout(i,s)}}(),n.timeOutActionSecond=function(){var e={};return function(t,i,n){e[t]||(e[t]=o.setTimeout(function(){i(),e[t]=0},n))}}(),n.hos=function(e,t){return e&&o.Object&&o.Object.hasOwnProperty?o.Object.hasOwnProperty.call(e,t):!1},n.inFocus=function(){return o.document.activeElement?(n.isUnd(o.document.activeElement.__inFocusCache)&&(o.document.activeElement.__inFocusCache=r(o.document.activeElement).is("input,textarea,iframe,.cke_editable")),!!o.document.activeElement.__inFocusCache):!1},n.removeInFocus=function(e){if(o.document&&o.document.activeElement&&o.document.activeElement.blur){var t=r(o.document.activeElement);if(t.is("input,textarea"))o.document.activeElement.blur();else if(e)try{o.document.activeElement.blur()}catch(i){}}},n.removeSelection=function(){if(o&&o.getSelection){var e=o.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}else o.document&&o.document.selection&&o.document.selection.empty&&o.document.selection.empty()},n.replySubjectAdd=function(e,t){e=n.trim(e.toUpperCase()),t=n.trim(t.replace(/[\s]+/g," "));var i=!1,o=[],r="RE"===e,a="FWD"===e,l=!a;return""!==t&&s.each(t.split(":"),function(e){var t=n.trim(e);i||!/^(RE|FWD)$/i.test(t)&&!/^(RE|FWD)[\[\(][\d]+[\]\)]$/i.test(t)?(o.push(e),i=!0):(r||(r=!!/^RE/i.test(t)),a||(a=!!/^FWD/i.test(t)))}),l?r=!1:a=!1,n.trim((l?"Re: ":"Fwd: ")+(r?"Re: ":"")+(a?"Fwd: ":"")+n.trim(o.join(":")))},n.roundNumber=function(e,t){return o.Math.round(e*o.Math.pow(10,t))/o.Math.pow(10,t)},n.friendlySize=function(e){return e=n.pInt(e),e>=1073741824?n.roundNumber(e/1073741824,1)+"GB":e>=1048576?n.roundNumber(e/1048576,1)+"MB":e>=1024?n.roundNumber(e/1024,0)+"KB":e+"B"},n.log=function(e){o.console&&o.console.log&&o.console.log(e)},n.delegateRun=function(e,t,i,o){e&&e[t]&&(o=n.pInt(o),0>=o?e[t].apply(e,n.isArray(i)?i:[]):s.delay(function(){e[t].apply(e,n.isArray(i)?i:[])},o))},n.kill_CtrlA_CtrlS=function(e){if(e=e||o.event,e&&e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=e.target||e.srcElement,i=e.keyCode||e.which;if(i===d.EventKeyCode.S)return void e.preventDefault();if(i===d.EventKeyCode.A){if(t&&("true"==""+t.contentEditable||t.tagName&&t.tagName.match(/INPUT|TEXTAREA/i)))return;o.getSelection?o.getSelection().removeAllRanges():o.document.selection&&o.document.selection.clear&&o.document.selection.clear(),e.preventDefault()}}},n.createCommand=function(e,t,i){var o=function(){return s&&s.canExecute&&s.canExecute()&&t.apply(e,Array.prototype.slice.call(arguments)),!1},s=t?o:n.emptyFunction;return s.enabled=a.observable(!0),i=n.isUnd(i)?!0:i,s.canExecute=a.computed(n.isFunc(i)?function(){return s.enabled()&&i.call(e)}:function(){return s.enabled()&&!!i}),s},n.convertThemeName=s.memoize(function(e){return"@custom"===e.substr(-7)&&(e=n.trim(e.substring(0,e.length-7))),n.trim(e.replace(/[^a-zA-Z0-9]+/g," ").replace(/([A-Z])/g," $1").replace(/[\s]+/g," "))}),n.quoteName=function(e){return e.replace(/["]/g,'\\"')},n.microtime=function(){return(new o.Date).getTime()},n.timestamp=function(){return o.Math.round(n.microtime()/1e3)},n.convertLangName=function(e,t){return i(6).i18n("LANGS_NAMES"+(!0===t?"_EN":"")+"/LANG_"+e.toUpperCase().replace(/[^a-zA-Z0-9]+/g,"_"),null,e)},n.fakeMd5=function(e){var t="",i="0123456789abcdefghijklmnopqrstuvwxyz";for(e=n.isUnd(e)?32:n.pInt(e);t.length<e;)t+=i.substr(o.Math.round(o.Math.random()*i.length),1);return t},n.draggablePlace=function(){return r('<div class="draggablePlace"><span class="text"></span>&nbsp;<i class="icon-copy icon-white visible-on-ctrl"></i><i class="icon-mail icon-white hidden-on-ctrl"></i></div>').appendTo("#rl-hidden")},n.defautOptionsAfterRender=function(e,t){t&&!n.isUnd(t.disabled)&&e&&r(e).toggleClass("disabled",t.disabled).prop("disabled",t.disabled)},n.windowPopupKnockout=function(e,t,s,l){var u=null,c=o.open(""),d="__OpenerApplyBindingsUid"+n.fakeMd5()+"__",p=r("#"+t);o[d]=function(){if(c&&c.document.body&&p&&p[0]){var t=r(c.document.body);r("#rl-content",t).html(p.html()),r("html",c.document).addClass("external "+r("html").attr("class")),i(6).i18nToNodes(t),e&&r("#rl-content",t)[0]&&a.applyBindings(e,r("#rl-content",t)[0]),o[d]=null,l(c)}},c.document.open(),c.document.write('<html><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="user-scalable=no" /><meta name="apple-mobile-web-app-capable" content="yes" /><meta name="robots" content="noindex, nofollow, noodp" /><title>'+n.encodeHtml(s)+'</title></head><body><div id="rl-content"></div></body></html>'),c.document.close(),u=c.document.createElement("script"),u.type="text/javascript",u.innerHTML="if(window&&window.opener&&window.opener['"+d+"']){window.opener['"+d+"']();window.opener['"+d+"']=null}",c.document.getElementsByTagName("head")[0].appendChild(u)},n.settingsSaveHelperFunction=function(e,t,i,o){return i=i||null,o=n.isUnd(o)?1e3:n.pInt(o),function(n,r,a,l,u){t.call(i,r&&r.Result?d.SaveSettingsStep.TrueResult:d.SaveSettingsStep.FalseResult),e&&e.call(i,n,r,a,l,u),s.delay(function(){t.call(i,d.SaveSettingsStep.Idle)},o)}},n.settingsSaveHelperSimpleFunction=function(e,t){return n.settingsSaveHelperFunction(null,e,t,1e3)},n.settingsSaveHelperSubscribeFunction=function(e,t,i,o){return function(s){if(e){switch(i){default:s=n.pString(s);break;case"bool":case"boolean":s=s?"1":"0";break;case"int":case"integer":case"number":s=n.pInt(s);break;case"trim":s=n.trim(s)}var r={};r[t]=s,e.saveAdminConfig?e.saveAdminConfig(o||null,r):e.saveSettings&&e.saveSettings(o||null,r)}}},n.htmlToPlain=function(e){var t=0,i=0,o=0,a=0,l=0,u="",c=function(e){return e=n.trim(e),e="> "+e.replace(/\n/gm,"\n> "),e.replace(/(^|\n)([> ]+)/gm,function(){return arguments&&2<arguments.length?arguments[1]+r.trim(arguments[2].replace(/[\s]/g,""))+" ":""})},d=function(){if(arguments&&1<arguments.length){var e=r.trim(arguments[1]);return 0<e.length&&(e=e.replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gim,d),e="\n"+r.trim(e)+"\n"),e}return""},f=function(){return arguments&&1<arguments.length?arguments[1].toString().replace(/[\n]/gm,"<br />").replace(/[\r]/gm,""):""},h=function(){return arguments&&1<arguments.length?""+arguments[1]+s.escape(arguments[2]):""},g=function(){return arguments&&1<arguments.length?r.trim(arguments[1]):""};for(u=e.replace(/\u0002([\s\S]*)\u0002/gm,"‌$1‌").replace(/<p[^>]*><\/p>/gi,"").replace(/<pre[^>]*>([\s\S\r\n\t]*)<\/pre>/gim,f).replace(/[\s]+/gm," ").replace(/((?:href|data)\s?=\s?)("[^"]+?"|'[^']+?')/gim,h).replace(/<br[^>]*>/gim,"\n").replace(/<\/h[\d]>/gi,"\n").replace(/<\/p>/gi,"\n\n").replace(/<ul[^>]*>/gim,"\n").replace(/<\/ul>/gi,"\n").replace(/<li[^>]*>/gim," * ").replace(/<\/li>/gi,"\n").replace(/<\/td>/gi,"\n").replace(/<\/tr>/gi,"\n").replace(/<hr[^>]*>/gim,"\n_______________________________\n\n").replace(/<div[^>]*>([\s\S\r\n]*)<\/div>/gim,d).replace(/<blockquote[^>]*>/gim,"\n__bq__start__\n").replace(/<\/blockquote>/gim,"\n__bq__end__\n").replace(/<a [^>]*>([\s\S\r\n]*?)<\/a>/gim,g).replace(/<\/div>/gi,"\n").replace(/&nbsp;/gi," ").replace(/&quot;/gi,'"').replace(/<[^>]*>/gm,""),u=p.$div.html(u).text(),u=u.replace(/\n[ \t]+/gm,"\n").replace(/[\n]{3,}/gm,"\n\n").replace(/&gt;/gi,">").replace(/&lt;/gi,"<").replace(/&amp;/gi,"&"),u=n.splitPlainText(n.trim(u)),t=0,l=800;l>0&&(l--,i=u.indexOf("__bq__start__",t),i>-1);)o=u.indexOf("__bq__start__",i+5),a=u.indexOf("__bq__end__",i+5),(-1===o||o>a)&&a>i?(u=u.substring(0,i)+c(u.substring(i+13,a))+u.substring(a+11),t=0):t=o>-1&&a>o?o-1:0;return u=u.replace(/__bq__start__/gm,"").replace(/__bq__end__/gm,"")},n.plainToHtml=function(e,t){e=e.toString().replace(/\r/g,""),t=n.isUnd(t)?!1:!!t;var i=!1,o=!0,s=!0,r=[],a="",l=0,u=e.split("\n");do{for(o=!1,r=[],l=0;l<u.length;l++)a=u[l],s=">"===a.substr(0,1),s&&!i?(o=!0,i=!0,r.push("~~~blockquote~~~"),r.push(a.substr(1))):!s&&i?""!==a?(i=!1,r.push("~~~/blockquote~~~"),r.push(a)):r.push(a):r.push(s&&i?a.substr(1):a);i&&(i=!1,r.push("~~~/blockquote~~~")),u=r}while(o);return e=u.join("\n"),e=e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/~~~blockquote~~~[\s]*/g,"<blockquote>").replace(/[\s]*~~~\/blockquote~~~/g,"</blockquote>").replace(/\u200C([\s\S]*)\u200C/g,"$1").replace(/\n/g,"<br />"),t?n.findEmailAndLinks(e):e},o.rainloop_Utils_htmlToPlain=n.htmlToPlain,o.rainloop_Utils_plainToHtml=n.plainToHtml,n.findEmailAndLinks=function(e){return e=l.link(e,{newWindow:!0,stripPrefix:!1,urls:!0,email:!0,twitter:!1,replaceFn:function(e,t){return!(e&&t&&"url"===t.getType()&&t.matchedText&&0!==t.matchedText.indexOf("http"))}})},n.resizeAndCrop=function(e,t,i){var n=new o.Image;n.onload=function(){var e=[0,0],n=o.document.createElement("canvas"),s=n.getContext("2d");n.width=t,n.height=t,e=this.width>this.height?[this.width-this.height,0]:[0,this.height-this.width],s.fillStyle="#fff",s.fillRect(0,0,t,t),s.drawImage(this,e[0]/2,e[1]/2,this.width-e[0],this.height-e[1],0,0,t,t),i(n.toDataURL("image/jpeg"))},n.src=e},n.folderListOptionsBuilder=function(e,t,i,s,r,a,l,u,c,p){var f=null,h=!1,g=0,m=0,b="   ",v=[];for(p=n.isUnd(p)?!1:!!p,c=n.isNormal(c)?c:0<e.length,r=n.isNormal(r)?r:0,a=n.isNormal(a)?a:null,l=n.isNormal(l)?l:null,u=n.isNormal(u)?u:null,n.isArray(i)||(i=[]),n.isArray(s)||(s=[]),g=0,m=s.length;m>g;g++)v.push({id:s[g][0],name:s[g][1],system:!1,seporator:!1,disabled:!1});for(h=!0,g=0,m=e.length;m>g;g++)f=e[g],(l?l.call(null,f):!0)&&(h&&0<v.length&&v.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),h=!1,v.push({id:f.fullNameRaw,name:u?u.call(null,f):f.name(),system:!0,seporator:!1,disabled:!f.selectable||-1<n.inArray(f.fullNameRaw,i)||(a?a.call(null,f):!1)}));for(h=!0,g=0,m=t.length;m>g;g++)f=t[g],!f.subScribed()&&f.existen&&!p||!f.selectable&&!f.hasSubScribedSubfolders()||(l?l.call(null,f):!0)&&(d.FolderType.User===f.type()||!c||f.hasSubScribedSubfolders())&&(h&&0<v.length&&v.push({id:"---",name:"---",system:!1,seporator:!0,disabled:!0}),h=!1,v.push({id:f.fullNameRaw,name:new o.Array(f.deep+1-r).join(b)+(u?u.call(null,f):f.name()),system:!1,seporator:!1,disabled:!f.selectable||-1<n.inArray(f.fullNameRaw,i)||(a?a.call(null,f):!1)})),f.subScribed()&&0<f.subFolders().length&&(v=v.concat(n.folderListOptionsBuilder([],f.subFolders(),i,[],r,a,l,u,c,p)));return v},n.computedPagenatorHelper=function(e,t){return function(){var i=0,s=0,r=2,a=[],l=e(),u=t(),c=function(e,t,i){var o={current:e===l,name:n.isUnd(i)?e.toString():i.toString(),custom:n.isUnd(i)?!1:!0,title:n.isUnd(i)?"":e.toString(),value:e.toString()};(n.isUnd(t)?0:!t)?a.unshift(o):a.push(o)};if(u>1||u>0&&l>u){for(l>u?(c(u),i=u,s=u):((3>=l||l>=u-2)&&(r+=2),c(l),i=l,s=l);r>0;)if(i-=1,s+=1,i>0&&(c(i,!1),r--),u>=s)c(s,!0),r--;else if(0>=i)break;3===i?c(2,!1):i>3&&c(o.Math.round((i-1)/2),!1,"..."),u-2===s?c(u-1,!0):u-2>s&&c(o.Math.round((u+s)/2),!0,"..."),i>1&&c(1,!1),u>s&&c(u,!0)}return a}},n.selectElement=function(e){var t,i;o.getSelection?(t=o.getSelection(),t.removeAllRanges(),i=o.document.createRange(),i.selectNodeContents(e),t.addRange(i)):o.document.selection&&(i=o.document.body.createTextRange(),i.moveToElementText(e),i.select())},n.detectDropdownVisibility=s.debounce(function(){p.dropdownVisibility(!!s.find(p.aBootstrapDropdowns,function(e){return e.hasClass("open")}))},50),n.triggerAutocompleteInputChange=function(e){var t=function(){r(".checkAutocomplete").trigger("change")};(n.isUnd(e)?1:!e)?t():s.delay(t,100)},n.setHeadViewport=function(e){var t=[];s.each(e,function(e,i){t.push(""+e+"="+i)}),r("#rl-head-viewport").attr("content",t.join(", "))},n.getFileExtension=function(e){e=n.trim(e).toLowerCase();var t=e.split(".").pop();return t===e?"":t},n.mimeContentType=function(e){var t="",i="application/octet-stream";return e=n.trim(e).toLowerCase(),"winmail.dat"===e?"application/ms-tnef":(t=n.getFileExtension(e),t&&0<t.length&&!n.isUnd(c[t])&&(i=c[t]),i)},n.disposeOne=function(e,t){var i=t||e;i&&"function"==typeof i.dispose&&i.dispose()},n.disposeObject=function(e){e&&(n.isArray(e.disposables)&&s.each(e.disposables,n.disposeOne),a.utils.objectForEach(e,n.disposeOne))},n.delegateRunOnDestroy=function(e){e&&(n.isArray(e)?s.each(e,function(e){n.delegateRunOnDestroy(e)}):e&&e.onDestroy&&e.onDestroy())},n.__themeTimer=0,n.__themeAjax=null,n.changeTheme=function(e,t){var i=r("#rlThemeLink"),s=r("#rlThemeStyle"),a=i.attr("href");a||(a=s.attr("data-href")),a&&(a=a.toString().replace(/\/-\/[^\/]+\/\-\//,"/-/"+e+"/-/"),a=a.toString().replace(/\/Css\/[^\/]+\/User\//,"/Css/0/User/"),a=a.toString().replace(/\/Hash\/[^\/]+\//,"/Hash/-/"),"Json/"!==a.substring(a.length-5,a.length)&&(a+="Json/"),o.clearTimeout(n.__themeTimer),t(d.SaveSettingsStep.Animate),n.__themeAjax&&n.__themeAjax.abort&&n.__themeAjax.abort(),n.__themeAjax=r.ajax({url:a,dataType:"json"}).done(function(e){e&&n.isArray(e)&&2===e.length&&(!i||!i[0]||s&&s[0]||(s=r('<style id="rlThemeStyle"></style>'),i.after(s),i.remove()),s&&s[0]&&(s.attr("data-href",a).attr("data-theme",e[0]),s[0].styleSheet&&!n.isUnd(s[0].styleSheet.cssText)?s[0].styleSheet.cssText=e[1]:s.text(e[1])),t(d.SaveSettingsStep.TrueResult))}).always(function(){n.__themeTimer=o.setTimeout(function(){t(d.SaveSettingsStep.Idle)},1e3),n.__themeAjax=null}))},n.substr=o.String.substr,"b"!=="ab".substr(-1)&&(n.substr=function(e,t,i){return 0>t&&(t=e.length+t),e.substr(t,i)}),e.exports=n}()},function(e,t,i){!function(t){"use strict";var n=i(13),o=i(3),s=i(14),r=i(40),a=i(55),l=function(e){t.utils.domNodeDisposal.addDisposeCallback(e,function(){e&&e.__opentip&&e.__opentip.deactivate()})};t.bindingHandlers.editor={init:function(e,n){var o=null,s=n(),r=function(){s&&s.__editor&&s.__editor.setHtmlOrPlain(s())},a=function(){s&&s.__editor&&s(s.__editor.getDataWithHtmlMark())},l=function(){s.__editor=o,r()},u=i(45);t.isObservable(s)&&u&&(o=new u(e,a,l,a),s.__fetchEditorValue=a,s.subscribe(r))}},t.bindingHandlers.json={init:function(e,i){s(e).text(r.stringify(t.unwrap(i())))},update:function(e,i){s(e).text(r.stringify(t.unwrap(i())))}},t.bindingHandlers.scrollerShadows={init:function(e){var i=8,r=s(e),a=s(n),l=r.find("[data-scroller-shadows-content]")[0]||null,u=o.throttle(function(){r.toggleClass("scroller-shadow-top",i<l.scrollTop).toggleClass("scroller-shadow-bottom",l.scrollTop+i<l.scrollHeight-l.clientHeight)},100);l&&(s(l).on("scroll resize",u),a.on("resize",u),t.utils.domNodeDisposal.addDisposeCallback(l,function(){s(l).off(),a.off("resize",u)}))}},t.bindingHandlers.tooltip={init:function(e,n){var r=!0,l="",u=null,c=s(e),d=n(),p="on"===(c.data("tooltip-mobile")||"off"),f=i(8);(!f.bMobileDevice||p)&&(r="on"===(c.data("tooltip-i18n")||"on"),l=!t.isObservable(d)&&o.isFunction(d)?d():t.unwrap(d),e.__opentip=new a(e,{style:"rainloopTip",element:e,tipJoint:c.data("tooltip-join")||"bottom"}),f.dropdownVisibility.subscribe(function(t){t&&e.__opentip.hide()}),""===l?(e.__opentip.hide(),e.__opentip.deactivate(),e.__opentip.setContent("")):e.__opentip.activate(),r?(u=i(6),e.__opentip.setContent(u.i18n(l)),u.trigger.subscribe(function(){e.__opentip.setContent(u.i18n(l))}),f.dropdownVisibility.subscribe(function(){e&&e.__opentip&&e.__opentip.setContent(i(6).i18n(l))})):e.__opentip.setContent(l))},update:function(e,n){var r=!0,a="",l=s(e),u=n(),c="on"===(l.data("tooltip-mobile")||"off"),d=i(8);d.bMobileDevice&&!c||!e.__opentip||(r="on"===(l.data("tooltip-i18n")||"on"),a=!t.isObservable(u)&&o.isFunction(u)?u():t.unwrap(u),a?(e.__opentip.setContent(r?i(6).i18n(a):a),e.__opentip.activate()):(e.__opentip.hide(),e.__opentip.deactivate(),e.__opentip.setContent("")))}},t.bindingHandlers.tooltipErrorTip={init:function(e){var t=s(e);e.__opentip=new a(e,{style:"rainloopErrorTip",hideOn:"mouseout click",element:e,tipJoint:t.data("tooltip-join")||"top"}),e.__opentip.deactivate(),s(n.document).on("click",function(){e&&e.__opentip&&e.__opentip.hide()}),l(e)},update:function(e,i){var n=s(e),r=i(),a=!t.isObservable(r)&&o.isFunction(r)?r():t.unwrap(r),l=e.__opentip;l&&(""===a?(l.hide(),l.deactivate(),l.setContent("")):o.delay(function(){n.is(":visible")?(l.setContent(a),l.activate(),l.show()):(l.hide(),l.deactivate(),l.setContent(""))},100))}},t.bindingHandlers.registrateBootstrapDropdown={init:function(e){var t=i(8);t&&t.aBootstrapDropdowns&&(t.aBootstrapDropdowns.push(s(e)),s(e).click(function(){i(1).detectDropdownVisibility()}))}},t.bindingHandlers.openDropdownTrigger={update:function(e,n){if(t.unwrap(n())){var o=s(e);o.hasClass("open")||o.find(".dropdown-toggle").dropdown("toggle"),o.find(".dropdown-toggle").focus(),i(1).detectDropdownVisibility(),n()(!1)}}},t.bindingHandlers.dropdownCloser={init:function(e){s(e).closest(".dropdown").on("click",".e-item",function(){s(e).dropdown("toggle")})}},t.bindingHandlers.popover={init:function(e,i){s(e).popover(t.unwrap(i())),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).popover("destroy")})}},t.bindingHandlers.csstext={init:function(e,i){e&&e.styleSheet&&void 0!==e.styleSheet.cssText?e.styleSheet.cssText=t.unwrap(i()):s(e).text(t.unwrap(i()))},update:function(e,i){e&&e.styleSheet&&void 0!==e.styleSheet.cssText?e.styleSheet.cssText=t.unwrap(i()):s(e).text(t.unwrap(i()))}},t.bindingHandlers.resizecrop={init:function(e){s(e).addClass("resizecrop").resizecrop({width:"100",height:"100",wrapperCSS:{"border-radius":"10px"}})},update:function(e,t){t()(),s(e).resizecrop({width:"100",height:"100"})}},t.bindingHandlers.onEnter={init:function(e,i,o,r){s(e).on("keypress.koOnEnter",function(t){t&&13===n.parseInt(t.keyCode,10)&&(s(e).trigger("change"),i().call(r))}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("keypress.koOnEnter")})}},t.bindingHandlers.onSpace={init:function(e,i,o,r){s(e).on("keyup.koOnSpace",function(e){e&&32===n.parseInt(e.keyCode,10)&&i().call(r,e)}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("keyup.koOnSpace")})}},t.bindingHandlers.onTab={init:function(e,i,o,r){s(e).on("keydown.koOnTab",function(e){return e&&9===n.parseInt(e.keyCode,10)?i().call(r,!!e.shiftKey):void 0}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("keydown.koOnTab")})}},t.bindingHandlers.onEsc={init:function(e,i,o,r){s(e).on("keypress.koOnEsc",function(t){t&&27===n.parseInt(t.keyCode,10)&&(s(e).trigger("change"),i().call(r))}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("keypress.koOnEsc")})}},t.bindingHandlers.clickOnTrue={update:function(e,i){t.unwrap(i())&&s(e).click()}},t.bindingHandlers.modal={init:function(e,n){var o=i(8),r=i(1);s(e).toggleClass("fade",!o.bMobileDevice).modal({keyboard:!1,show:t.unwrap(n())}).on("shown.koModal",r.windowResizeCallback).find(".close").on("click.koModal",function(){n()(!1)}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("shown.koModal").find(".close").off("click.koModal")})},update:function(e,n){var r=i(8);s(e).modal(t.unwrap(n())?"show":"hide"),r.$html.hasClass("rl-anim")&&(r.$html.addClass("rl-modal-animation"),o.delay(function(){r.$html.removeClass("rl-modal-animation")},400))}},t.bindingHandlers.moment={init:function(e,n){i(26).momentToNode(s(e).addClass("moment").data("moment-time",t.unwrap(n())))},update:function(e,n){i(26).momentToNode(s(e).data("moment-time",t.unwrap(n())))}},t.bindingHandlers.i18nInit={init:function(e){i(6).i18nToNodes(e)}},t.bindingHandlers.translatorInit={init:function(e){i(6).i18nToNodes(e)}},t.bindingHandlers.i18nUpdate={update:function(e,n){t.unwrap(n()),i(6).i18nToNodes(e)}},t.bindingHandlers.link={update:function(e,i){s(e).attr("href",t.unwrap(i()))}},t.bindingHandlers.title={update:function(e,i){s(e).attr("title",t.unwrap(i()))}},t.bindingHandlers.textF={init:function(e,i){s(e).text(t.unwrap(i()))}},t.bindingHandlers.initDom={init:function(e,t){t()(e)}},t.bindingHandlers.initFixedTrigger={init:function(e,i){var o=t.unwrap(i()),r=null,a=s(e),l=null,u=o[1]||0;r=s(o[0]||null),r=r[0]?r:null,r&&s(n).resize(function(){l=r.offset(),l&&l.top&&a.css("top",l.top+u)})}},t.bindingHandlers.initResizeTrigger={init:function(e,i){var n=t.unwrap(i());s(e).css({height:n[1],"min-height":n[1]})},update:function(e,n){var o=i(1),r=i(8),a=t.unwrap(n()),l=o.pInt(a[1]),u=0,c=s(e).offset().top;c>0&&(c+=o.pInt(a[2]),u=r.$win.height()-c,u>l&&(l=u),s(e).css({height:l,"min-height":l}))}},t.bindingHandlers.appendDom={update:function(e,i){s(e).hide().empty().append(t.unwrap(i())).show()}},t.bindingHandlers.draggable={init:function(e,o,r){var a=i(8),l=i(1);if(!a.bMobileDevice){var u=100,c=3,d=r(),p=d&&d.droppableSelector?d.droppableSelector:"",f={distance:20,handle:".dragHandle",cursorAt:{top:22,left:3},refreshPositions:!0,scroll:!0};p&&(f.drag=function(e){s(p).each(function(){var t=null,i=null,o=s(this),r=o.offset(),a=r.top+o.height();n.clearInterval(o.data("timerScroll")),o.data("timerScroll",!1),e.pageX>=r.left&&e.pageX<=r.left+o.width()&&(e.pageY>=a-u&&e.pageY<=a&&(t=function(){o.scrollTop(o.scrollTop()+c),l.windowResize()},o.data("timerScroll",n.setInterval(t,10)),t()),e.pageY>=r.top&&e.pageY<=r.top+u&&(i=function(){o.scrollTop(o.scrollTop()-c),l.windowResize()},o.data("timerScroll",n.setInterval(i,10)),i()))})},f.stop=function(){s(p).each(function(){n.clearInterval(s(this).data("timerScroll")),s(this).data("timerScroll",!1)})}),f.helper=function(e){return o()(e&&e.target?t.dataFor(e.target):null)},s(e).draggable(f).on("mousedown.koDraggable",function(){l.removeInFocus()}),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).off("mousedown.koDraggable").draggable("destroy")})}}},t.bindingHandlers.droppable={init:function(e,n,o){var r=i(8);if(!r.bMobileDevice){var a=n(),l=o(),u=l&&l.droppableOver?l.droppableOver:null,c=l&&l.droppableOut?l.droppableOut:null,d={tolerance:"pointer",hoverClass:"droppableHover"};a&&(d.drop=function(e,t){a(e,t)},u&&(d.over=function(e,t){u(e,t)}),c&&(d.out=function(e,t){c(e,t)}),s(e).droppable(d),t.utils.domNodeDisposal.addDisposeCallback(e,function(){s(e).droppable("destroy")}))}}},t.bindingHandlers.nano={init:function(e){var t=i(8);t.bDisableNanoScroll||s(e).addClass("nano").nanoScroller({iOSNativeScrolling:!1,preventPageScrolling:!0})}},t.bindingHandlers.saveTrigger={init:function(e){var t=s(e);t.data("save-trigger-type",t.is("input[type=text],input[type=email],input[type=password],select,textarea")?"input":"custom"),"custom"===t.data("save-trigger-type")?t.append('&nbsp;&nbsp;<i class="icon-spinner animated"></i><i class="icon-remove error"></i><i class="icon-ok success"></i>').addClass("settings-saved-trigger"):t.addClass("settings-saved-trigger-input")},update:function(e,i){var n=t.unwrap(i()),o=s(e);if("custom"===o.data("save-trigger-type"))switch(n.toString()){case"1":o.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");break;case"0":o.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case"-2":o.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");break;default:o.find(".animated").hide().end().find(".error,.success").removeClass("visible")}else switch(n.toString()){case"1":o.addClass("success").removeClass("error");break;case"0":o.addClass("error").removeClass("success");break;case"-2":break;default:o.removeClass("error success")}}},t.bindingHandlers.emailsTags={init:function(e,t,n){var r=i(1),a=i(29),l=s(e),u=t(),c=n(),d=c.autoCompleteSource||null,p=function(e){u&&u.focused&&u.focused(!!e)};l.inputosaurus({parseOnBlur:!0,allowDragAndDrop:!0,focusCallback:p,inputDelimiters:[",",";","\n"],autoCompleteSource:d,parseHook:function(e){return o.map(e,function(e){var t=r.trim(e),i=null;return""!==t?(i=new a,i.mailsoParse(t),[i.toLine(!1),i]):[t,null]})},change:o.bind(function(e){l.data("EmailsTagsValue",e.target.value),u(e.target.value)},this)}),u&&u.focused&&u.focused.subscribe&&u.focused.subscribe(function(e){l.inputosaurus(e?"focus":"blur")})},update:function(e,i){var n=s(e),o=i(),r=t.unwrap(o);n.data("EmailsTagsValue")!==r&&(n.val(r),n.data("EmailsTagsValue",r),n.inputosaurus("refresh"))}},t.bindingHandlers.command={init:function(e,i,n,o){var r=s(e),a=i();if(!a||!a.enabled||!a.canExecute)throw new Error("You are not using command function");r.addClass("command"),t.bindingHandlers[r.is("form")?"submit":"click"].init.apply(o,arguments)},update:function(e,t){var i=!0,n=s(e),o=t();i=o.enabled(),n.toggleClass("command-not-enabled",!i),i&&(i=o.canExecute(),n.toggleClass("command-can-not-be-execute",!i)),n.toggleClass("command-disabled disable disabled",!i).toggleClass("no-disabled",!!i),(n.is("input")||n.is("button"))&&n.prop("disabled",!i)}},t.extenders.trimmer=function(e){var n=i(1),o=t.computed({read:e,write:function(t){e(n.trim(t.toString()))},owner:this});return o(e()),o},t.extenders.posInterer=function(e,n){var o=i(1),s=t.computed({read:e,write:function(t){var i=o.pInt(t.toString(),n);0>=i&&(i=n),i===e()&&""+i!=""+t&&e(i+1),e(i)}});return s(e()),s},t.extenders.limitedList=function(e,n){var o=i(1),s=t.computed({read:e,write:function(i){var s=t.unwrap(e),r=t.unwrap(n);o.isNonEmptyArray(r)?-1<o.inArray(i,r)?e(i):-1<o.inArray(s,r)?(e(s+" "),e(s)):(e(r[0]+" "),e(r[0])):e("")}}).extend({notify:"always"});return s(e()),s.valueHasMutated||(s.valueHasMutated=function(){e.valueHasMutated()}),s},t.extenders.reversible=function(e){var t=e();return e.commit=function(){t=e()},e.reverse=function(){e(t)},e.commitedValue=function(){return t},e},t.extenders.toggleSubscribe=function(e,t){return e.subscribe(t[1],t[0],"beforeChange"),e.subscribe(t[2],t[0]),e},t.extenders.toggleSubscribeProperty=function(e,t){var i=t[1];return i&&(e.subscribe(function(e){e&&e[i]&&e[i](!1)},t[0],"beforeChange"),e.subscribe(function(e){e&&e[i]&&e[i](!0)},t[0])),e},t.extenders.falseTimeout=function(e,t){return e.iFalseTimeoutTimeout=0,e.subscribe(function(o){o&&(n.clearTimeout(e.iFalseTimeoutTimeout),e.iFalseTimeoutTimeout=n.setTimeout(function(){e(!1),e.iFalseTimeoutTimeout=0},i(1).pInt(t)))}),e},t.extenders.specialThrottle=function(e,o){return e.iSpecialThrottleTimeoutValue=i(1).pInt(o),0<e.iSpecialThrottleTimeoutValue?(e.iSpecialThrottleTimeout=0,e.valueForRead=t.observable(!!e()).extend({throttle:10}),t.computed({read:e.valueForRead,write:function(t){t?e.valueForRead(t):e.valueForRead()?(n.clearTimeout(e.iSpecialThrottleTimeout),e.iSpecialThrottleTimeout=n.setTimeout(function(){e.valueForRead(!1),e.iSpecialThrottleTimeout=0},e.iSpecialThrottleTimeoutValue)):e.valueForRead(t)}})):e},t.observable.fn.validateNone=function(){return this.hasError=t.observable(!1),this},t.observable.fn.validateEmail=function(){var e=i(1);return this.hasError=t.observable(!1),this.subscribe(function(t){t=e.trim(t),this.hasError(""!==t&&!/^[^@\s]+@[^@\s]+$/.test(t))},this),this.valueHasMutated(),this},t.observable.fn.validateSimpleEmail=function(){var e=i(1);return this.hasError=t.observable(!1),this.subscribe(function(t){t=e.trim(t),this.hasError(""!==t&&!/^.+@.+$/.test(t))},this),this.valueHasMutated(),this},t.observable.fn.deleteAccessHelper=function(){return this.extend({falseTimeout:3e3}).extend({toggleSubscribe:[null,function(e){e&&e.deleteAccess&&e.deleteAccess(!1)},function(e){e&&e.deleteAccess&&e.deleteAccess(!0)}]}),this},t.observable.fn.validateFunc=function(e){var n=i(1);return this.hasFuncError=t.observable(!1),n.isFunc(e)&&(this.subscribe(function(t){this.hasFuncError(!e(t))},this),this.valueHasMutated()),this},e.exports=t}(ko)},function(e){e.exports=window._},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FileType={Unknown:"unknown",Text:"text",Html:"html",Code:"code",Eml:"eml",WordText:"word-text",Pdf:"pdf",Image:"image",Audio:"audio",Video:"video",Sheet:"sheet",Presentation:"presentation",Certificate:"certificate",CertificateBin:"certificate-bin",Archive:"archive"},t.StorageResultType={Success:"success",Abort:"abort",Error:"error",Unload:"unload"},t.Focused={None:"none",MessageList:"message-list",MessageView:"message-view",FolderList:"folder-list"},t.State={Empty:10,Login:20,Auth:30},t.StateType={Webmail:0,Admin:1},t.Capa={TwoFactor:"TWO_FACTOR",TwoFactorForce:"TWO_FACTOR_FORCE",OpenPGP:"OPEN_PGP",Prefetch:"PREFETCH",Gravatar:"GRAVATAR",Folders:"FOLDERS",Composer:"COMPOSER",Contacts:"CONTACTS",Reload:"RELOAD",Search:"SEARCH",SearchAdv:"SEARCH_ADV",MessageActions:"MESSAGE_ACTIONS",MessageListActions:"MESSAGELIST_ACTIONS",AttachmentsActions:"ATTACHMENTS_ACTIONS",DangerousActions:"DANGEROUS_ACTIONS",Settings:"SETTINGS",Help:"HELP",Themes:"THEMES",UserBackground:"USER_BACKGROUND",Sieve:"SIEVE",Filters:"FILTERS",AttachmentThumbnails:"ATTACHMENT_THUMBNAILS",Templates:"TEMPLATES",AutoLogout:"AUTOLOGOUT",AdditionalAccounts:"ADDITIONAL_ACCOUNTS",Identities:"IDENTITIES"},t.KeyState={All:"all",None:"none",ContactList:"contact-list",MessageList:"message-list",FolderList:"folder-list",MessageView:"message-view",Compose:"compose",Settings:"settings",Menu:"menu",PopupComposeOpenPGP:"compose-open-pgp",PopupMessageOpenPGP:"message-open-pgp",PopupViewOpenPGP:"view-open-pgp",PopupKeyboardShortcutsHelp:"popup-keyboard-shortcuts-help",PopupAsk:"popup-ask"},t.FolderType={Inbox:10,SentItems:11,Draft:12,Trash:13,Spam:14,Archive:15,NotSpam:80,User:99},t.ServerFolderType={USER:0,INBOX:1,SENT:2,DRAFTS:3,JUNK:4,TRASH:5,IMPORTANT:10,FLAGGED:11,ALL:12},t.LoginSignMeTypeAsString={DefaultOff:"defaultoff",DefaultOn:"defaulton",Unused:"unused"},t.LoginSignMeType={DefaultOff:0,DefaultOn:1,Unused:2},t.ComposeType={Empty:"empty",Reply:"reply",ReplyAll:"replyall",Forward:"forward",ForwardAsAttachment:"forward-as-attachment",Draft:"draft",EditAsNew:"editasnew"},t.UploadErrorCode={Normal:0,FileIsTooBig:1,FilePartiallyUploaded:2,FileNoUploaded:3,MissingTempFolder:4,FileOnSaveingError:5,FileType:98,Unknown:99},t.SetSystemFoldersNotification={None:0,Sent:1,Draft:2,Spam:3,Trash:4,Archive:5},t.ClientSideKeyName={FoldersLashHash:0,MessagesInboxLastHash:1,MailBoxListSize:2,ExpandedFolders:3,FolderListSize:4,MessageListSize:5,LastReplyAction:6,LastSignMe:7,ComposeLastIdentityID:8},t.EventKeyCode={Backspace:8,Tab:9,Enter:13,Esc:27,PageUp:33,PageDown:34,Left:37,Right:39,Up:38,Down:40,End:35,Home:36,Space:32,Insert:45,Delete:46,A:65,S:83},t.MessageSetAction={SetSeen:0,UnsetSeen:1,SetFlag:2,UnsetFlag:3},t.MessageSelectAction={All:0,None:1,Invert:2,Unseen:3,Seen:4,Flagged:5,Unflagged:6},t.DesktopNotification={Allowed:0,NotAllowed:1,Denied:2,NotSupported:9},t.MessagePriority={Low:5,Normal:3,High:1},t.EditorDefaultType={Html:"Html",Plain:"Plain",HtmlForced:"HtmlForced",PlainForced:"PlainForced"},t.ServerSecure={None:0,SSL:1,TLS:2},t.SearchDateType={All:-1,Days3:3,Days7:7,Month:30},t.SaveSettingsStep={Animate:-2,Idle:-1,TrueResult:1,FalseResult:0},t.Layout={NoPreview:0,SidePreview:1,BottomPreview:2,Mobile:3},t.FilterConditionField={From:"From",Recipient:"Recipient",Subject:"Subject",Header:"Header",Size:"Size"},t.FilterConditionType={Contains:"Contains",NotContains:"NotContains",EqualTo:"EqualTo",NotEqualTo:"NotEqualTo",Over:"Over",Under:"Under"},t.FiltersAction={None:"None",MoveTo:"MoveTo",Discard:"Discard",Vacation:"Vacation",Reject:"Reject",Forward:"Forward"},t.FilterRulesType={All:"All",Any:"Any"},t.SignedVerifyStatus={UnknownPublicKeys:-4,UnknownPrivateKey:-3,Unverified:-2,Error:-1,None:0,Success:1},t.ContactPropertyType={Unknown:0,FullName:10,FirstName:15,LastName:16,MiddleName:16,Nick:18,NamePrefix:20,NameSuffix:21,Email:30,Phone:31,Web:32,Birthday:40,Facebook:90,Skype:91,GitHub:92,Note:110,Custom:250},t.Notification={InvalidToken:101,AuthError:102,AccessError:103,ConnectionError:104,CaptchaError:105,SocialFacebookLoginAccessDisable:106,SocialTwitterLoginAccessDisable:107,SocialGoogleLoginAccessDisable:108,DomainNotAllowed:109,AccountNotAllowed:110,AccountTwoFactorAuthRequired:120,AccountTwoFactorAuthError:121,CouldNotSaveNewPassword:130,CurrentPasswordIncorrect:131,NewPasswordShort:132,NewPasswordWeak:133,NewPasswordForbidden:134,ContactsSyncError:140,CantGetMessageList:201,CantGetMessage:202,CantDeleteMessage:203,CantMoveMessage:204,CantCopyMessage:205,CantSaveMessage:301,CantSendMessage:302,InvalidRecipients:303,CantSaveFilters:351,CantGetFilters:352,FiltersAreNotCorrect:355,CantCreateFolder:400,CantRenameFolder:401,CantDeleteFolder:402,CantSubscribeFolder:403,CantUnsubscribeFolder:404,CantDeleteNonEmptyFolder:405,CantSaveSettings:501,CantSavePluginSettings:502,DomainAlreadyExists:601,CantInstallPackage:701,CantDeletePackage:702,InvalidPluginPackage:703,UnsupportedPluginPackage:704,LicensingServerIsUnavailable:710,LicensingExpired:711,LicensingBanned:712,DemoSendMessageError:750,DemoAccountError:751,AccountAlreadyExists:801,AccountDoesNotExist:802,MailServerError:901,ClientViewError:902,InvalidInputArgument:903,AjaxFalse:950,AjaxAbort:951,AjaxParse:952,AjaxTimeout:953,UnknownNotification:999,UnknownError:999}
},function(e,t,i){!function(){"use strict";function t(){this.oScreens={},this.sDefaultScreenName="",this.oCurrentScreen=null}var n=i(3),o=i(14),s=i(2),r=i(83),a=i(49),l=i(8),u=i(23),c=i(1);t.prototype.oScreens={},t.prototype.sDefaultScreenName="",t.prototype.oCurrentScreen=null,t.prototype.hideLoading=function(){o("#rl-content").show(),o("#rl-loading").hide().remove()},t.prototype.constructorEnd=function(e){c.isFunc(e.__constructor_end)&&e.__constructor_end.call(e)},t.prototype.extendAsViewModel=function(e,t){t&&(t.__names=c.isArray(e)?e:[e],t.__name=t.__names[0])},t.prototype.addSettingsViewModel=function(e,t,i,n,o){e.__rlSettingsData={Label:i,Template:t,Route:n,IsDefault:!!o},l.aViewModels.settings.push(e)},t.prototype.removeSettingsViewModel=function(e){l.aViewModels["settings-removed"].push(e)},t.prototype.disableSettingsViewModel=function(e){l.aViewModels["settings-disabled"].push(e)},t.prototype.routeOff=function(){r.changed.active=!1},t.prototype.routeOn=function(){r.changed.active=!0},t.prototype.screen=function(e){return""===e||c.isUnd(this.oScreens[e])?null:this.oScreens[e]},t.prototype.buildViewModel=function(e,t){if(e&&!e.__builded){var i=this,r=new e(t),a=r.viewModelPosition(),d=o("#rl-content #rl-"+a.toLowerCase()),p=null;e.__builded=!0,e.__vm=r,r.onShowTrigger=s.observable(!1),r.onHideTrigger=s.observable(!1),r.viewModelName=e.__name,r.viewModelNames=e.__names,d&&1===d.length?(p=o("<div></div>").addClass("rl-view-model").addClass("RL-"+r.viewModelTemplate()).hide(),p.appendTo(d),r.viewModelDom=p,e.__dom=p,"Popups"===a&&(r.cancelCommand=r.closeCommand=c.createCommand(r,function(){i.hideScreenPopup(e)}),r.modalVisibility.subscribe(function(e){var t=this;e?(this.viewModelDom.show(),this.storeAndSetKeyScope(),l.popupVisibilityNames.push(this.viewModelName),r.viewModelDom.css("z-index",3e3+l.popupVisibilityNames().length+10),this.onShowTrigger&&this.onShowTrigger(!this.onShowTrigger()),c.delegateRun(this,"onShowWithDelay",[],500)):(c.delegateRun(this,"onHide"),c.delegateRun(this,"onHideWithDelay",[],500),this.onHideTrigger&&this.onHideTrigger(!this.onHideTrigger()),this.restoreKeyScope(),n.each(this.viewModelNames,function(e){u.runHook("view-model-on-hide",[e,t])}),l.popupVisibilityNames.remove(this.viewModelName),r.viewModelDom.css("z-index",2e3),n.delay(function(){t.viewModelDom.hide()},300))},r)),n.each(e.__names,function(e){u.runHook("view-model-pre-build",[e,r,p])}),s.applyBindingAccessorsToNode(p[0],{translatorInit:!0,template:function(){return{name:r.viewModelTemplate()}}},r),c.delegateRun(r,"onBuild",[p]),r&&"Popups"===a&&r.registerPopupKeyDown(),n.each(e.__names,function(e){u.runHook("view-model-post-build",[e,r,p])})):c.log("Cannot find view model position: "+a)}return e?e.__vm:null},t.prototype.hideScreenPopup=function(e){e&&e.__vm&&e.__dom&&e.__vm.modalVisibility(!1)},t.prototype.showScreenPopup=function(e,t){e&&(this.buildViewModel(e),e.__vm&&e.__dom&&(c.delegateRun(e.__vm,"onBeforeShow",t||[]),e.__vm.modalVisibility(!0),c.delegateRun(e.__vm,"onShow",t||[]),n.each(e.__names,function(i){u.runHook("view-model-on-show",[i,e.__vm,t||[]])})))},t.prototype.isPopupVisible=function(e){return e&&e.__vm?e.__vm.modalVisibility():!1},t.prototype.screenOnRoute=function(e,t){var i=this,o=null,s=!1,r=null;""===c.pString(e)&&(e=this.sDefaultScreenName),""!==e&&(o=this.screen(e),o||(o=this.screen(this.sDefaultScreenName),o&&(t=e+"/"+t,e=this.sDefaultScreenName)),o&&o.__started&&(s=this.oCurrentScreen&&o===this.oCurrentScreen,o.__builded||(o.__builded=!0,c.isNonEmptyArray(o.viewModels())&&n.each(o.viewModels(),function(e){this.buildViewModel(e,o)},this),c.delegateRun(o,"onBuild")),n.defer(function(){i.oCurrentScreen&&!s&&(c.delegateRun(i.oCurrentScreen,"onHide"),c.delegateRun(i.oCurrentScreen,"onHideWithDelay",[],500),i.oCurrentScreen.onHideTrigger&&i.oCurrentScreen.onHideTrigger(!i.oCurrentScreen.onHideTrigger()),c.isNonEmptyArray(i.oCurrentScreen.viewModels())&&n.each(i.oCurrentScreen.viewModels(),function(e){e.__vm&&e.__dom&&"Popups"!==e.__vm.viewModelPosition()&&(e.__dom.hide(),e.__vm.viewModelVisibility(!1),c.delegateRun(e.__vm,"onHide"),c.delegateRun(e.__vm,"onHideWithDelay",[],500),e.__vm.onHideTrigger&&e.__vm.onHideTrigger(!e.__vm.onHideTrigger()))})),i.oCurrentScreen=o,i.oCurrentScreen&&!s&&(c.delegateRun(i.oCurrentScreen,"onShow"),i.oCurrentScreen.onShowTrigger&&i.oCurrentScreen.onShowTrigger(!i.oCurrentScreen.onShowTrigger()),u.runHook("screen-on-show",[i.oCurrentScreen.screenName(),i.oCurrentScreen]),c.isNonEmptyArray(i.oCurrentScreen.viewModels())&&n.each(i.oCurrentScreen.viewModels(),function(e){e.__vm&&e.__dom&&"Popups"!==e.__vm.viewModelPosition()&&(c.delegateRun(e.__vm,"onBeforeShow"),e.__dom.show(),e.__vm.viewModelVisibility(!0),c.delegateRun(e.__vm,"onShow"),e.__vm.onShowTrigger&&e.__vm.onShowTrigger(!e.__vm.onShowTrigger()),c.delegateRun(e.__vm,"onShowWithDelay",[],200),n.each(e.__names,function(t){u.runHook("view-model-on-show",[t,e.__vm])}))},i)),r=o.__cross?o.__cross():null,r&&r.parse(t)})))},t.prototype.startScreens=function(e){o("#rl-content").css({visibility:"hidden"}),n.each(e,function(e){if(e){var t=new e,i=t?t.screenName():"";t&&""!==i&&(""===this.sDefaultScreenName&&(this.sDefaultScreenName=i),this.oScreens[i]=t)}},this),n.each(this.oScreens,function(e){e&&!e.__started&&e.__start&&(e.__started=!0,e.__start(),u.runHook("screen-pre-start",[e.screenName(),e]),c.delegateRun(e,"onStart"),u.runHook("screen-post-start",[e.screenName(),e]))},this);var t=a.create();t.addRoute(/^([a-zA-Z0-9\-]*)\/?(.*)$/,n.bind(this.screenOnRoute,this)),r.initialized.add(t.parse,t),r.changed.add(t.parse,t),r.init(),o("#rl-content").css({visibility:"visible"}),n.delay(function(){l.$html.removeClass("rl-started-trigger").addClass("rl-started")},100),n.delay(function(){l.$html.addClass("rl-started-delay")},200)},t.prototype.setHash=function(e,t,i){e="#"===e.substr(0,1)?e.substr(1):e,e="/"===e.substr(0,1)?e.substr(1):e,i=c.isUnd(i)?!1:!!i,(c.isUnd(t)?1:!t)?(r.changed.active=!0,r[i?"replaceHash":"setHash"](e),r.setHash(e)):(r.changed.active=!1,r[i?"replaceHash":"setHash"](e),r.changed.active=!0)},e.exports=new t}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(2),l=n(a),u=i(4),c=i(1),d=n(c),p=i(8),f=n(p),h=function(){function e(){o(this,e),this.data={},this.notificationI18N={},this.data=r.window.rainloopI18N||{},this.trigger=l.default.observable(!1),this.i18n=r._.bind(this.i18n,this),this.init()}return s(e,[{key:"i18n",value:function(e,t,i){var n="",o=r._.isUndefined(this.data[e])?r._.isUndefined(i)?e:i:this.data[e];if(!r._.isUndefined(t)&&!r._.isNull(t))for(n in t)r._.has(t,n)&&(o=o.replace("%"+n+"%",t[n]));return o}},{key:"i18nToNode",value:function(e){var t=r.$(e),i=t.data("i18n");if(i)if("["===i.substr(0,1))switch(i.substr(0,6)){case"[html]":t.html(this.i18n(i.substr(6)));break;case"[place":t.attr("placeholder",this.i18n(i.substr(13)));break;case"[title":t.attr("title",this.i18n(i.substr(7)))}else t.text(this.i18n(i))}},{key:"i18nToNodes",value:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];r._.defer(function(){r.$("[data-i18n]",e).each(function(e,i){t.i18nToNode(i)}),i&&f.default.bAnimationSupported&&r.$(".i18n-animation[data-i18n]",e).letterfx({fx:"fall fade",backwards:!1,timing:50,fx_duration:"50ms",letter_end:"restore",element_end:"restore"})})}},{key:"reloadData",value:function(){r.window.rainloopI18N&&(this.data=r.window.rainloopI18N||{},this.i18nToNodes(r.window.document,!0),i(26).reload(),this.trigger(!this.trigger())),r.window.rainloopI18N=null}},{key:"initNotificationLanguage",value:function(){var e=this,t=[[u.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[u.Notification.InvalidToken,"NOTIFICATIONS/INVALID_TOKEN"],[u.Notification.AuthError,"NOTIFICATIONS/AUTH_ERROR"],[u.Notification.AccessError,"NOTIFICATIONS/ACCESS_ERROR"],[u.Notification.ConnectionError,"NOTIFICATIONS/CONNECTION_ERROR"],[u.Notification.CaptchaError,"NOTIFICATIONS/CAPTCHA_ERROR"],[u.Notification.SocialFacebookLoginAccessDisable,"NOTIFICATIONS/SOCIAL_FACEBOOK_LOGIN_ACCESS_DISABLE"],[u.Notification.SocialTwitterLoginAccessDisable,"NOTIFICATIONS/SOCIAL_TWITTER_LOGIN_ACCESS_DISABLE"],[u.Notification.SocialGoogleLoginAccessDisable,"NOTIFICATIONS/SOCIAL_GOOGLE_LOGIN_ACCESS_DISABLE"],[u.Notification.DomainNotAllowed,"NOTIFICATIONS/DOMAIN_NOT_ALLOWED"],[u.Notification.AccountNotAllowed,"NOTIFICATIONS/ACCOUNT_NOT_ALLOWED"],[u.Notification.AccountTwoFactorAuthRequired,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_REQUIRED"],[u.Notification.AccountTwoFactorAuthError,"NOTIFICATIONS/ACCOUNT_TWO_FACTOR_AUTH_ERROR"],[u.Notification.CouldNotSaveNewPassword,"NOTIFICATIONS/COULD_NOT_SAVE_NEW_PASSWORD"],[u.Notification.CurrentPasswordIncorrect,"NOTIFICATIONS/CURRENT_PASSWORD_INCORRECT"],[u.Notification.NewPasswordShort,"NOTIFICATIONS/NEW_PASSWORD_SHORT"],[u.Notification.NewPasswordWeak,"NOTIFICATIONS/NEW_PASSWORD_WEAK"],[u.Notification.NewPasswordForbidden,"NOTIFICATIONS/NEW_PASSWORD_FORBIDDENT"],[u.Notification.ContactsSyncError,"NOTIFICATIONS/CONTACTS_SYNC_ERROR"],[u.Notification.CantGetMessageList,"NOTIFICATIONS/CANT_GET_MESSAGE_LIST"],[u.Notification.CantGetMessage,"NOTIFICATIONS/CANT_GET_MESSAGE"],[u.Notification.CantDeleteMessage,"NOTIFICATIONS/CANT_DELETE_MESSAGE"],[u.Notification.CantMoveMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[u.Notification.CantCopyMessage,"NOTIFICATIONS/CANT_MOVE_MESSAGE"],[u.Notification.CantSaveMessage,"NOTIFICATIONS/CANT_SAVE_MESSAGE"],[u.Notification.CantSendMessage,"NOTIFICATIONS/CANT_SEND_MESSAGE"],[u.Notification.InvalidRecipients,"NOTIFICATIONS/INVALID_RECIPIENTS"],[u.Notification.CantSaveFilters,"NOTIFICATIONS/CANT_SAVE_FILTERS"],[u.Notification.CantGetFilters,"NOTIFICATIONS/CANT_GET_FILTERS"],[u.Notification.FiltersAreNotCorrect,"NOTIFICATIONS/FILTERS_ARE_NOT_CORRECT"],[u.Notification.CantCreateFolder,"NOTIFICATIONS/CANT_CREATE_FOLDER"],[u.Notification.CantRenameFolder,"NOTIFICATIONS/CANT_RENAME_FOLDER"],[u.Notification.CantDeleteFolder,"NOTIFICATIONS/CANT_DELETE_FOLDER"],[u.Notification.CantDeleteNonEmptyFolder,"NOTIFICATIONS/CANT_DELETE_NON_EMPTY_FOLDER"],[u.Notification.CantSubscribeFolder,"NOTIFICATIONS/CANT_SUBSCRIBE_FOLDER"],[u.Notification.CantUnsubscribeFolder,"NOTIFICATIONS/CANT_UNSUBSCRIBE_FOLDER"],[u.Notification.CantSaveSettings,"NOTIFICATIONS/CANT_SAVE_SETTINGS"],[u.Notification.CantSavePluginSettings,"NOTIFICATIONS/CANT_SAVE_PLUGIN_SETTINGS"],[u.Notification.DomainAlreadyExists,"NOTIFICATIONS/DOMAIN_ALREADY_EXISTS"],[u.Notification.CantInstallPackage,"NOTIFICATIONS/CANT_INSTALL_PACKAGE"],[u.Notification.CantDeletePackage,"NOTIFICATIONS/CANT_DELETE_PACKAGE"],[u.Notification.InvalidPluginPackage,"NOTIFICATIONS/INVALID_PLUGIN_PACKAGE"],[u.Notification.UnsupportedPluginPackage,"NOTIFICATIONS/UNSUPPORTED_PLUGIN_PACKAGE"],[u.Notification.LicensingServerIsUnavailable,"NOTIFICATIONS/LICENSING_SERVER_IS_UNAVAILABLE"],[u.Notification.LicensingExpired,"NOTIFICATIONS/LICENSING_EXPIRED"],[u.Notification.LicensingBanned,"NOTIFICATIONS/LICENSING_BANNED"],[u.Notification.DemoSendMessageError,"NOTIFICATIONS/DEMO_SEND_MESSAGE_ERROR"],[u.Notification.DemoAccountError,"NOTIFICATIONS/DEMO_ACCOUNT_ERROR"],[u.Notification.AccountAlreadyExists,"NOTIFICATIONS/ACCOUNT_ALREADY_EXISTS"],[u.Notification.AccountDoesNotExist,"NOTIFICATIONS/ACCOUNT_DOES_NOT_EXIST"],[u.Notification.MailServerError,"NOTIFICATIONS/MAIL_SERVER_ERROR"],[u.Notification.InvalidInputArgument,"NOTIFICATIONS/INVALID_INPUT_ARGUMENT"],[u.Notification.UnknownNotification,"NOTIFICATIONS/UNKNOWN_ERROR"],[u.Notification.UnknownError,"NOTIFICATIONS/UNKNOWN_ERROR"]];this.notificationI18N=this.notificationI18N||{},t.forEach(function(t){e.notificationI18N[t[0]]=e.i18n(t[1])})}},{key:"initOnStartOrLangChange",value:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];e&&e.call(t),i?this.trigger.subscribe(function(){e&&e.call(t),i.call(t)}):e&&this.trigger.subscribe(e,t)}},{key:"getNotification",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1],i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];return e=r.window.parseInt(e,10)||0,u.Notification.ClientViewError===e&&t?t:(i=i?r.window.parseInt(i,10)||0:0,r._.isUndefined(this.notificationI18N[e])?i&&r._.isUndefined(this.notificationI18N[i])?this.notificationI18N[i]:"":this.notificationI18N[e])}},{key:"getNotificationFromResponse",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u.Notification.UnknownNotification:arguments[1];return e&&e.ErrorCode?this.getNotification(d.default.pInt(e.ErrorCode),e.ErrorMessage||""):this.getNotification(t)}},{key:"getUploadErrorDescByCode",value:function(e){var t="";switch(r.window.parseInt(e,10)||0){case u.UploadErrorCode.FileIsTooBig:t=this.i18n("UPLOAD/ERROR_FILE_IS_TOO_BIG");break;case u.UploadErrorCode.FilePartiallyUploaded:t=this.i18n("UPLOAD/ERROR_FILE_PARTIALLY_UPLOADED");break;case u.UploadErrorCode.FileNoUploaded:t=this.i18n("UPLOAD/ERROR_NO_FILE_UPLOADED");break;case u.UploadErrorCode.MissingTempFolder:t=this.i18n("UPLOAD/ERROR_MISSING_TEMP_FOLDER");break;case u.UploadErrorCode.FileOnSaveingError:t=this.i18n("UPLOAD/ERROR_ON_SAVING_FILE");break;case u.UploadErrorCode.FileType:t=this.i18n("UPLOAD/ERROR_FILE_TYPE");break;default:t=this.i18n("UPLOAD/ERROR_UNKNOWN")}return t}},{key:"reload",value:function(e,t,n,o){var s=this,a=d.default.microtime();f.default.$html.addClass("rl-changing-language"),r.$.ajax({url:i(11).langLink(t,e),dataType:"script",cache:!0}).fail(o||d.default.emptyFunction).done(function(){r._.delay(function(){s.reloadData(),(n||d.default.emptyFunction)();var e=-1<d.default.inArray(t,["ar","ar_sa","he","he_he","ur","ur_ir"]);f.default.$html.removeClass("rl-changing-language").removeClass("rl-rtl rl-ltr").addClass(e?"rl-rtl":"rl-ltr")},500<d.default.microtime()-a?1:500)})}},{key:"init",value:function(){f.default.$html.addClass("rl-"+(f.default.$html.attr("dir")||"ltr"))}}]),e}();e.exports=new h},,function(e,t,i){!function(){"use strict";var t={},n=i(13),o=i(3),s=i(14),r=i(2),a=i(18),l=i(4);t.$win=s(n),t.$doc=s(n.document),t.$html=s("html"),t.$body=s("body"),t.$div=s("<div></div>"),t.$win.__sizes=[0,0],t.startMicrotime=(new n.Date).getTime(),t.community=!1,t.dropdownVisibility=r.observable(!1).extend({rateLimit:0}),t.useKeyboardShortcuts=r.observable(!0),t.iAjaxErrorCount=0,t.iTokenErrorCount=0,t.iMessageBodyCacheCount=0,t.bUnload=!1,t.sUserAgent="navigator"in n&&"userAgent"in n.navigator&&n.navigator.userAgent.toLowerCase()||"",t.bIE=t.sUserAgent.indexOf("msie")>-1,t.bChrome=t.sUserAgent.indexOf("chrome")>-1,t.bSafari=!t.bChrome&&t.sUserAgent.indexOf("safari")>-1,t.bMobileDevice=/android/i.test(t.sUserAgent)||/iphone/i.test(t.sUserAgent)||/ipod/i.test(t.sUserAgent)||/ipad/i.test(t.sUserAgent)||/blackberry/i.test(t.sUserAgent),t.bDisableNanoScroll=t.bMobileDevice,t.bAllowPdfPreview=!t.bMobileDevice,t.bAnimationSupported=!t.bMobileDevice&&t.$html.hasClass("csstransitions")&&t.$html.hasClass("cssanimations"),t.bXMLHttpRequestSupported=!!n.XMLHttpRequest,t.__APP__=null,t.oHtmlEditorDefaultConfig={title:!1,stylesSet:!1,customConfig:"",contentsCss:"",toolbarGroups:[{name:"spec"},{name:"styles"},{name:"basicstyles",groups:["basicstyles","cleanup","bidi"]},{name:"colors"},{name:"paragraph",groups:["list","indent","blocks","align"]},{name:"links"},{name:"insert"},{name:"document",groups:["mode","document","doctools"]},{name:"others"}],removePlugins:"liststyle",removeButtons:"Format,Undo,Redo,Cut,Copy,Paste,Anchor,Strike,Subscript,Superscript,Image,SelectAll,Source",removeDialogTabs:"link:advanced;link:target;image:advanced;images:advanced",extraPlugins:"plain,signature",allowedContent:!0,extraAllowedContent:!0,fillEmptyBlocks:!1,ignoreEmptyParagraph:!0,disableNativeSpellChecker:!1,font_defaultLabel:"Arial",fontSize_defaultLabel:"13",fontSize_sizes:"10/10px;12/12px;13/13px;14/14px;16/16px;18/18px;20/20px;24/24px;28/28px;36/36px;48/48px"},t.oHtmlEditorLangsMap={bg_bg:"bg",de_de:"de",es_es:"es",fr_fr:"fr",hu_hu:"hu",is_is:"is",it_it:"it",ja_jp:"ja",ko_kr:"ko",lt_lt:"lt",lv_lv:"lv",nl_nl:"nl",bg_no:"no",pl_pl:"pl",pt_pt:"pt",pt_br:"pt-br",ro_ro:"ro",ru_ru:"ru",sk_sk:"sk",sv_se:"sv",tr_tr:"tr",uk_ua:"ru",zh_tw:"zh",zh_cn:"zh-cn"},t.bAllowPdfPreview&&n.navigator&&n.navigator.mimeTypes&&(t.bAllowPdfPreview=!!o.find(n.navigator.mimeTypes,function(e){return e&&"application/pdf"===e.type})),t.aBootstrapDropdowns=[],t.aViewModels={settings:[],"settings-removed":[],"settings-disabled":[]},t.leftPanelDisabled=r.observable(!1),t.leftPanelType=r.observable(""),t.popupVisibilityNames=r.observableArray([]),t.popupVisibility=r.computed(function(){return 0<t.popupVisibilityNames().length},this),t.popupVisibility.subscribe(function(e){t.$html.toggleClass("rl-modal",e)}),t.keyScopeReal=r.observable(l.KeyState.All),t.keyScopeFake=r.observable(l.KeyState.All),t.keyScope=r.computed({owner:this,read:function(){return t.keyScopeFake()},write:function(e){l.KeyState.Menu!==e&&(a.filter=l.KeyState.Compose===e?function(){return t.useKeyboardShortcuts()}:function(e){if(t.useKeyboardShortcuts()){var i=e.target||e.srcElement,n=i?i.tagName:"";return n=n.toUpperCase(),!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n||i&&"DIV"===n&&("editorHtmlArea"===i.className||"true"==""+i.contentEditable))}return!1},t.keyScopeFake(e),t.dropdownVisibility()&&(e=l.KeyState.Menu)),t.keyScopeReal(e)}}),t.keyScopeReal.subscribe(function(e){a.setScope(e)}),t.dropdownVisibility.subscribe(function(e){e?t.keyScope(l.KeyState.Menu):l.KeyState.Menu===a.getScope()&&t.keyScope(t.keyScopeFake())}),e.exports=t}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(1),l=n(a),u=function(){function e(){o(this,e),this.settings=r.window.rainloopAppData||{},this.settings=l.default.isNormal(this.settings)?this.settings:{}}return s(e,[{key:"settingsGet",value:function(e){return l.default.isUnd(this.settings[e])?null:this.settings[e]}},{key:"settingsSet",value:function(e,t){this.settings[e]=t}},{key:"capa",value:function(e){var t=this.settingsGet("Capa");return l.default.isArray(t)&&l.default.isNormal(e)&&-1<l.default.inArray(e,t)}}]),e}();e.exports=new u},function(e,t,i){!function(){"use strict";function t(e,t){this.bDisabeCloseOnEsc=!1,this.sPosition=s.pString(e),this.sTemplate=s.pString(t),this.sDefaultKeyScope=o.KeyState.None,this.sCurrentKeyScope=this.sDefaultKeyScope,this.viewModelVisibility=n.observable(!1),this.modalVisibility=n.observable(!1).extend({rateLimit:0}),this.viewModelName="",this.viewModelNames=[],this.viewModelDom=null}var n=i(2),o=i(4),s=i(1),r=i(8);t.prototype.bDisabeCloseOnEsc=!1,t.prototype.sPosition="",t.prototype.sTemplate="",t.prototype.sDefaultKeyScope=o.KeyState.None,t.prototype.sCurrentKeyScope=o.KeyState.None,t.prototype.viewModelName="",t.prototype.viewModelNames=[],t.prototype.viewModelDom=null,t.prototype.viewModelTemplate=function(){return this.sTemplate},t.prototype.viewModelPosition=function(){return this.sPosition},t.prototype.cancelCommand=function(){},t.prototype.closeCommand=function(){},t.prototype.storeAndSetKeyScope=function(){this.sCurrentKeyScope=r.keyScope(),r.keyScope(this.sDefaultKeyScope)},t.prototype.restoreKeyScope=function(){r.keyScope(this.sCurrentKeyScope)},t.prototype.registerPopupKeyDown=function(){var e=this;r.$win.on("keydown",function(t){if(t&&e.modalVisibility&&e.modalVisibility()){if(!this.bDisabeCloseOnEsc&&o.EventKeyCode.Esc===t.keyCode)return s.delegateRun(e,"cancelCommand"),!1;if(o.EventKeyCode.Backspace===t.keyCode&&!s.inFocus())return!1}return!0})},e.exports=t}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(1),l=n(a),u=i(9),c=n(u),d=function(){function e(){o(this,e),this.sBase="#/",this.sServer="./?",this.sVersion=c.default.settingsGet("Version"),this.sAuthSuffix=c.default.settingsGet("AuthAccountHash")||"0",this.sWebPrefix=c.default.settingsGet("WebPath")||"",this.sVersionPrefix=c.default.settingsGet("WebVersionPath")||"source/v/"+this.sVersion+"/",this.sStaticPrefix=this.sVersionPrefix+"static/"}return s(e,[{key:"populateAuthSuffix",value:function(){this.sAuthSuffix=c.default.settingsGet("AuthAccountHash")||"0"}},{key:"subQueryPrefix",value:function(){return"&q[]="}},{key:"root",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.sBase+l.default.pString(e)}},{key:"rootAdmin",value:function(){return this.sServer+"/Admin/"}},{key:"rootUser",value:function(){return"./"}},{key:"attachmentRaw",value:function(e,t,i){return i=l.default.isUnd(i)?this.sAuthSuffix:i,this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+i+"/"+e+"/"+this.subQueryPrefix()+"/"+t}},{key:"attachmentDownload",value:function(e,t){return this.attachmentRaw("Download",e,t)}},{key:"attachmentPreview",value:function(e,t){return this.attachmentRaw("View",e,t)}},{key:"attachmentThumbnailPreview",value:function(e,t){return this.attachmentRaw("ViewThumbnail",e,t)}},{key:"attachmentPreviewAsPlain",value:function(e,t){return this.attachmentRaw("ViewAsPlain",e,t)}},{key:"attachmentFramed",value:function(e,t){return this.attachmentRaw("FramedView",e,t)}},{key:"upload",value:function(){return this.sServer+"/Upload/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"}},{key:"uploadContacts",value:function(){return this.sServer+"/UploadContacts/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"}},{key:"uploadBackground",value:function(){return this.sServer+"/UploadBackground/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"}},{key:"append",value:function(){return this.sServer+"/Append/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"}},{key:"change",value:function(e){return this.sServer+"/Change/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+l.default.encodeURIComponent(e)+"/"}},{key:"ajax",value:function(e){return this.sServer+"/Ajax/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/"+e}},{key:"messageViewLink",value:function(e){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ViewAsPlain/"+this.subQueryPrefix()+"/"+e}},{key:"messageDownloadLink",value:function(e){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/Download/"+this.subQueryPrefix()+"/"+e}},{key:"avatarLink",value:function(e){return this.sServer+"/Raw/0/Avatar/"+l.default.encodeURIComponent(e)+"/"}},{key:"publicLink",value:function(e){return this.sServer+"/Raw/0/Public/"+e+"/"}},{key:"userBackground",value:function(e){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/UserBackground/"+this.subQueryPrefix()+"/"+e}},{key:"inbox",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"INBOX":arguments[0];return this.sBase+"mailbox/"+e}},{key:"settings",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.sBase+"settings"+(e?"/"+e:"")}},{key:"about",value:function(){return this.sBase+"about"}},{key:"admin",value:function(e){var t=this.sBase;switch(e){case"AdminDomains":t+="domains";break;case"AdminSecurity":t+="security";break;case"AdminLicensing":t+="licensing"}return t}},{key:"mailBox",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"":arguments[2],n=arguments.length<=3||void 0===arguments[3]?"":arguments[3];t=l.default.isNormal(t)?l.default.pInt(t):1,i=l.default.pString(i);var o=this.sBase+"mailbox/";if(""!==e){var s=l.default.pInt(n);o+=r.window.encodeURI(e)+(s>0?"~"+s:"")}return t>1&&(o=o.replace(/[\/]+$/,""),o+="/p"+t),""!==i&&(o=o.replace(/[\/]+$/,""),o+="/"+r.window.encodeURI(i)),o}},{key:"phpInfo",value:function(){return this.sServer+"Info"}},{key:"langLink",value:function(e,t){return this.sServer+"/Lang/0/"+(t?"Admin":"App")+"/"+r.window.encodeURI(e)+"/"+this.sVersion+"/"}},{key:"exportContactsVcf",value:function(){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsVcf/"}},{key:"exportContactsCsv",value:function(){return this.sServer+"/Raw/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/ContactsCsv/"}},{key:"emptyContactPic",value:function(){return this.sStaticPrefix+"css/images/empty-contact.png"}},{key:"sound",value:function(e){return this.sStaticPrefix+"sounds/"+e}},{key:"themePreviewLink",value:function(e){var t=this.sVersionPrefix;return"@custom"===e.substr(-7)&&(e=l.default.trim(e.substring(0,e.length-7)),t=this.sWebPrefix),t+"themes/"+r.window.encodeURI(e)+"/images/preview.png"}},{key:"notificationMailIcon",value:function(){return this.sStaticPrefix+"css/images/icom-message-notification.png"}},{key:"openPgpJs",value:function(){return this.sStaticPrefix+"js/min/openpgp.min.js"}},{key:"openPgpWorkerJs",value:function(){return this.sStaticPrefix+"js/min/openpgp.worker.min.js"}},{key:"openPgpWorkerPath",value:function(){return this.sStaticPrefix+"js/min/"}},{key:"socialGoogle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this.sServer+"SocialGoogle"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")+(e?"&xauth=1":"")}},{key:"socialTwitter",value:function(){return this.sServer+"SocialTwitter"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")}},{key:"socialFacebook",value:function(){return this.sServer+"SocialFacebook"+(""!==this.sAuthSuffix?"/"+this.subQueryPrefix()+"/"+this.sAuthSuffix+"/":"")}}]),e}();e.exports=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.key=t.moment=t.Q=t._=t.JSON=t.$=t.window=void 0;var o=i(13),s=n(o),r=i(14),a=n(r),l=i(40),u=n(l),c=i(3),d=n(c),p=i(48),f=n(p),h=i(54),g=n(h),m=i(18),b=n(m);t.window=s.default,t.$=a.default,t.JSON=u.default,t._=d.default,t.Q=f.default,t.moment=g.default,t.key=b.default},function(e){e.exports=window},function(e){e.exports=window.jQuery},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.componentExportHelper=t.AbstractComponent=void 0;var r=i(12),a=i(2),l=n(a),u=i(1),c=n(u),d=function(){function e(){o(this,e),this.disposable=[]}return s(e,[{key:"dispose",value:function(){this.disposable.forEach(function(e){e&&e.dispose&&e.dispose()})}}]),e}(),p=function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return{template:t?{element:t}:"<b></b>",viewModel:{createViewModel:function(t,n){return t=t||{},t.element=null,n&&n.element&&(t.component=n,t.element=r.$(n.element),i(6).i18nToNodes(t.element),!c.default.isUnd(t.inline)&&l.default.unwrap(t.inline)&&t.element.css("display","inline-block")),new e(t)}}}};t.AbstractComponent=d,t.componentExportHelper=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGES_PER_PAGE=20,t.MESSAGES_PER_PAGE_VALUES=[10,20,30,50,100],t.CONTACTS_PER_PAGE=50,t.DEFAULT_AJAX_TIMEOUT=3e4,t.SEARCH_AJAX_TIMEOUT=3e5,t.SEND_MESSAGE_AJAX_TIMEOUT=3e5,t.SAVE_MESSAGE_AJAX_TIMEOUT=2e5,t.CONTACTS_SYNC_AJAX_TIMEOUT=2e5,t.UNUSED_OPTION_VALUE="__UNUSE__",t.CLIENT_SIDE_STORAGE_INDEX_NAME="rlcsc",t.IMAP_DEFAULT_PORT=143,t.IMAP_DEFAULT_SECURE_PORT=993,t.SMTP_DEFAULT_PORT=25,t.SMTP_DEFAULT_SECURE_PORT=465,t.SIEVE_DEFAULT_PORT=4190,t.MESSAGE_BODY_CACHE_LIMIT=15,t.AJAX_ERROR_LIMIT=7,t.TOKEN_ERROR_LIMIT=10,t.RAINLOOP_TRIAL_KEY="RAINLOOP-TRIAL-KEY",t.DATA_IMAGE_USER_DOT_PIC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAHHklEQVRoQ7VZW08bVxCeXRuwIbTGXIwNtBBaqjwgVUiR8lDlbza9qe1DpVZ9aNQ/0KpPeaJK07SpcuEeCEmUAObm21bfrL9lONjexSYrWfbunj37zXdmvpkz9oIgCKTD0Wg0xPd94TDP83Q0zvWa50vzklSrdanVanqf4/D84GBGr+F+Op3S8fqoJxLOdnZgTvsO/nYhenHA+UC7CWF1uXwkb9++ldPTUwVerVbVqFQqpR8YPjQ0JCMjI5LNDijoRgP3PQVu5+5Eor2XGLg7IV4GkIdHJ/LmzRs5ODiIwNbrdR0O0GCcq4Xz4eFhmZyclP7+tDQaIik/BG5XKQn4SwG3zJTLZXn9+rUclI8UHD5YVoDDN8bSzXhONwL48fFxGR4eilzFZT1uFRIB5yT8BqCdnR3Z3d0VP9Un6XRawYJpggVrZBv38ME4XKtUKnLt2jUplUoy1PR/l3U7T6sVSAQcgMAkj8PDQ9ne3pajoyMRL7zeKsYZWHgWYDGmv78/mmdwcFA+mJlSgziHDWrERrsjEXDXegTi1tZW+DLxI2bxIrqFNYTXyDyCFweMAHCwb8e4RnTNuOsqe3t7sra21pTD0Kct666E8XlcZyzw9/RUUXK5nK5oUinUQI6TQ3cynO/v78vq6qrKXCNwlTiJJpyNGc3nZHp6uqV2dwrQWOCtZBDAV1ZWwsQk7f0wiQn5kffbAu/0/KWBYzIC1+XukfGx0RGZmppKlC2tIV0Bh4aDcZW7HhkfH8urLLZL7T2pihvlkMNnz56FiadHxicL41IsFpN41bkxsYxbRdFo9jwB8KdPn14J8KnSpBQKhQs63nPmbCVRcBUAR2Lq1VVmpksyMTFxAXjcEsQybiegESionjx5osCZOeNe1O4+EhCAX7bQSgQcxRHTMgAgcz5+/Dis/hL4uHU3/B4YGNASGHIKxuEql0k+l05AeIAF1vPnz5VxFFmdDlaJrMtZITJeSsXCOTlMunKxjLtMYOKNjQ158eJFuAuKkUOb5sEwgff19SkJUBVkThZUbnXZrtCKBQ6gbnWIkjZpyne3ejAWoGnA7Icz6irvBLgbOMicCM6TkxPx/LAkbXfgWcsazuE2kFRsKD5Z+CiqDumKncpZvieWcS6dDVD8xiYCNflpJdwcdwJOf9airLmVQ7DPzMxIYWLsXGXoVqLt5k0M3K3JUVPDZdbWNzsCp48TPFdvdnZWUz32nDha7bJ63kgAJPzSdRks9/Kf9xMJAQ1gq2NpaUmy2Yz4zar4nQC3xb99AQwCcGzLAAwuhG8YiWvcOKts+r4GOe5nMhm5efOm9lUA3E3vSZJRrKvE0fnPv//Jy5cvo5cTHIPQbSjhOoqq69evS19f6lxDKK4+sVhigZPtKJqbrQeqxd5+WR4+fKgqgT0k2XX3nhiPgETWXFhYkFzuPZ2yVq1GTSOXpE47/VjgNnD4m4GG7/LhsTx69EiwD4Vr2MwIIxgbAH18fKx1yfz8vEogNvGtWnCuhLZa9UTAreVWFsHy/b/+Vrbdl7E5REMQD2jDoUbByty+/ZnU64GkU2HzyJLhktU1cLv8nARgkYS2d3ajAgwG8qU2oLmDZ92CMaOjo7K4uCiZgbDWaRWgnZhPxLhrMUCvr69riwKZk1LHF7XqrWAO9hJxH6ozNzcnCx/PqztZg9mf6SQMscCtm2C5ke4BGMlHWTUp36036AJajDVrFMzBrhhWslQsSrFYiOqVpMriNYIgqFRq2j3FAb/zffT6zuxFXxsNzs3NTXn16lW4gYiW96w1FyedF+83xG/2FNGCRpU4NjamMsn+OZ9xE5RXqdaDdPpib6RWCzuwKF9RxqI2AVNQBwQYJoK0wdBejnqtEikP3pfP51XjUTESl12FqJEKxsEorARYDD44ONTeID7YpsEnrRvQfWAI2e8WfDaTUSIwJ0iBCmFOtOUAHvVMPp/TPwvYFVYFIuP8l+DBgwdaa2Miqwa0GgYwfeMltovbDfh6c1vIgMYcliSsKv4IWFr6VDHxvldvBAH+1sA+cnl5WYOPmmr9ir+1l9I0Cgz0yjhXjfJJ0JROnmezWbl165ayr/5fqwcBNr7IfhjMqKcvESSM4eRcCasQ3bDNObmKPLdGUGpZsN24cUNLBm9zazu4d++e6qpNBFaTuUS26U5dpuR1CxyA7J9ddrMRqlz4pwLLYawymPd++/2PADt2ugcGwq9gCCdhQ96C6xWwa6j1ceuq+I0EhW0i8MAIVJfeL3d/DVD8EKi12P6/2S2jV/EccVB54O/ejz/9HGCpoBBMta5rXMXLu53D1XAwjhXwvvv+h4BAXVe4bOu3O3ChxF08LiZFG3fel199G9CH3fLyqv24NcB44MRhpdK788U3CpyKwsCw590xmfSpzsBt0Fqc3ud3vtZigxWcVZCklVpSiN0w3q5E/h9TGMIUuA3+EQAAAABJRU5ErkJggg==",t.DATA_IMAGE_TRANSP_PIC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQIW2NkAAIAAAoAAggA9GkAAAAASUVORK5CYII="},function(e){e.exports=window.key},function(e,t,i){!function(){"use strict";function t(){o.call(this),this.oRequests={}}var n=i(3),o=i(56);n.extend(t.prototype,o.prototype),t.prototype.adminLogin=function(e,t,i){this.defaultRequest(e,"AdminLogin",{Login:t,Password:i})},t.prototype.adminLogout=function(e){this.defaultRequest(e,"AdminLogout")},t.prototype.saveAdminConfig=function(e,t){this.defaultRequest(e,"AdminSettingsUpdate",t)},t.prototype.domainList=function(e){this.defaultRequest(e,"AdminDomainList")},t.prototype.pluginList=function(e){this.defaultRequest(e,"AdminPluginList")},t.prototype.packagesList=function(e){this.defaultRequest(e,"AdminPackagesList")
},t.prototype.coreData=function(e){this.defaultRequest(e,"AdminCoreData")},t.prototype.updateCoreData=function(e){this.defaultRequest(e,"AdminUpdateCoreData",{},9e4)},t.prototype.packageInstall=function(e,t){this.defaultRequest(e,"AdminPackageInstall",{Id:t.id,Type:t.type,File:t.file},6e4)},t.prototype.packageDelete=function(e,t){this.defaultRequest(e,"AdminPackageDelete",{Id:t.id})},t.prototype.domain=function(e,t){this.defaultRequest(e,"AdminDomainLoad",{Name:t})},t.prototype.plugin=function(e,t){this.defaultRequest(e,"AdminPluginLoad",{Name:t})},t.prototype.domainDelete=function(e,t){this.defaultRequest(e,"AdminDomainDelete",{Name:t})},t.prototype.domainDisable=function(e,t,i){return this.defaultRequest(e,"AdminDomainDisable",{Name:t,Disabled:i?"1":"0"})},t.prototype.pluginSettingsUpdate=function(e,t){return this.defaultRequest(e,"AdminPluginSettingsUpdate",t)},t.prototype.licensing=function(e,t){return this.defaultRequest(e,"AdminLicensing",{Force:t?"1":"0"})},t.prototype.licensingActivate=function(e,t,i){return this.defaultRequest(e,"AdminLicensingActivate",{Domain:t,Key:i})},t.prototype.pluginDisable=function(e,t,i){return this.defaultRequest(e,"AdminPluginDisable",{Name:t,Disabled:i?"1":"0"})},t.prototype.createOrUpdateDomain=function(e,t,i,n,o,s,r,a,l,u,c,d,p,f,h,g,m,b,v){this.defaultRequest(e,"AdminDomainSave",{Create:t?"1":"0",Name:i,IncHost:n,IncPort:o,IncSecure:s,IncShortLogin:r?"1":"0",UseSieve:a?"1":"0",SieveAllowRaw:l?"1":"0",SieveHost:u,SievePort:c,SieveSecure:d,OutHost:p,OutPort:f,OutSecure:h,OutShortLogin:g?"1":"0",OutAuth:m?"1":"0",OutUsePhpMail:b?"1":"0",WhiteList:v})},t.prototype.testConnectionForDomain=function(e,t,i,n,o,s,r,a,l,u,c,d,p,f){this.defaultRequest(e,"AdminDomainTest",{Name:t,IncHost:i,IncPort:n,IncSecure:o,UseSieve:s?"1":"0",SieveHost:r,SievePort:a,SieveSecure:l,OutHost:u,OutPort:c,OutSecure:d,OutAuth:p?"1":"0",OutUsePhpMail:f?"1":"0"})},t.prototype.testContacts=function(e,t){this.defaultRequest(e,"AdminContactsTest",t)},t.prototype.saveNewAdminPassword=function(e,t){this.defaultRequest(e,"AdminPasswordUpdate",t)},t.prototype.adminPing=function(e){this.defaultRequest(e,"AdminPing")},e.exports=new t}()},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=function q(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:q(o,t,i)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(i)};Object.defineProperty(t,"__esModule",{value:!0});var c=i(12),d=i(2),p=o(d),f=i(84),h=o(f),g=i(4),m=n(g),b=i(1),v=o(b),S=i(11),y=o(S),w=i(6),A=o(w),_=i(9),T=o(_),C=i(35),E=o(C),P=i(58),N=o(P),k=i(61),O=o(k),R=i(59),I=o(R),x=i(60),D=o(x),L=i(90),M=o(L),F=i(19),U=o(F),H=i(5),V=o(H),G=i(66),j=function(e){function t(){return s(this,t),r(this,Object.getPrototypeOf(t).call(this,U.default))}return a(t,e),l(t,[{key:"remote",value:function(){return U.default}},{key:"reloadDomainList",value:function(){N.default.domains.loading(!0),U.default.domainList(function(e,t){N.default.domains.loading(!1),m.StorageResultType.Success===e&&t&&t.Result&&N.default.domains(c._.map(t.Result,function(e,t){return{name:t,disabled:p.default.observable(!e),deleteAccess:p.default.observable(!1)}}))})}},{key:"reloadPluginList",value:function(){O.default.plugins.loading(!0),U.default.pluginList(function(e,t){O.default.plugins.loading(!1),m.StorageResultType.Success===e&&t&&t.Result&&O.default.plugins(c._.map(t.Result,function(e){return{name:e.Name,disabled:p.default.observable(!e.Enabled),configured:p.default.observable(!!e.Configured)}}))})}},{key:"reloadPackagesList",value:function(){D.default.packages.loading(!0),D.default.packagesReal(!0),U.default.packagesList(function(e,t){D.default.packages.loading(!1),m.StorageResultType.Success===e&&t&&t.Result?!function(){D.default.packagesReal(!!t.Result.Real),D.default.packagesMainUpdatable(!!t.Result.MainUpdatable);var e=[],i={};c._.each(D.default.packages(),function(e){e&&e.loading()&&(i[e.file]=e)}),v.default.isArray(t.Result.List)&&(e=c._.compact(c._.map(t.Result.List,function(e){return e?(e.loading=p.default.observable(!v.default.isUnd(i[e.file])),"core"!==e.type||e.canBeInstalled?e:null):null}))),D.default.packages(e)}():D.default.packagesReal(!1)})}},{key:"updateCoreData",value:function(){M.default.coreUpdating(!0),U.default.updateCoreData(function(e,t){M.default.coreUpdating(!1),M.default.coreVersion(""),M.default.coreRemoteVersion(""),M.default.coreRemoteRelease(""),M.default.coreVersionCompare(-2),m.StorageResultType.Success===e&&t&&t.Result?(M.default.coreReal(!0),c.window.location.reload()):M.default.coreReal(!1)})}},{key:"reloadCoreData",value:function(){M.default.coreChecking(!0),M.default.coreReal(!0),U.default.coreData(function(e,t){M.default.coreChecking(!1),m.StorageResultType.Success===e&&t&&t.Result?(M.default.coreReal(!!t.Result.Real),M.default.coreChannel(t.Result.Channel||"stable"),M.default.coreType(t.Result.Type||"stable"),M.default.coreUpdatable(!!t.Result.Updatable),M.default.coreAccess(!!t.Result.Access),M.default.coreWarning(!!t.Result.Warning),M.default.coreVersion(t.Result.Version||""),M.default.coreRemoteVersion(t.Result.RemoteVersion||""),M.default.coreRemoteRelease(t.Result.RemoteRelease||""),M.default.coreVersionCompare(v.default.pInt(t.Result.VersionCompare))):(M.default.coreReal(!1),M.default.coreChannel("stable"),M.default.coreType("stable"),M.default.coreWarning(!1),M.default.coreVersion(""),M.default.coreRemoteVersion(""),M.default.coreRemoteRelease(""),M.default.coreVersionCompare(-2))})}},{key:"reloadLicensing",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];I.default.licensingProcess(!0),I.default.licenseError(""),U.default.licensing(function(e,t){I.default.licensingProcess(!1),m.StorageResultType.Success===e&&t&&t.Result&&v.default.isNormal(t.Result.Expired)?(I.default.licenseValid(!0),I.default.licenseExpired(v.default.pInt(t.Result.Expired)),I.default.licenseError(""),I.default.licensing(!0),E.default.prem(!0)):t&&t.ErrorCode&&-1<v.default.inArray(v.default.pInt(t.ErrorCode),[m.Notification.LicensingServerIsUnavailable,m.Notification.LicensingExpired])?(I.default.licenseError(A.default.getNotification(v.default.pInt(t.ErrorCode))),I.default.licensing(!0)):m.StorageResultType.Abort===e?(I.default.licenseError(A.default.getNotification(m.Notification.LicensingServerIsUnavailable)),I.default.licensing(!0)):I.default.licensing(!1)},e)}},{key:"bootend",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];h.default&&h.default.end(),e&&e()}},{key:"bootstart",value:function(){u(Object.getPrototypeOf(t.prototype),"bootstart",this).call(this),i(35).populate(),i(50).populate(),V.default.hideLoading(),T.default.settingsGet("AllowAdminPanel")?V.default.startScreens(T.default.settingsGet("Auth")?[i(116)]:[i(115)]):(V.default.routeOff(),V.default.setHash(y.default.root(),!0),V.default.routeOff(),c._.defer(function(){c.window.location.href="/"})),this.bootend()}}]),t}(G.AbstractApp),B=new j;t.default=B},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(1),l=n(a),u=i(8),c=n(u),d=i(9),p=n(d),f=function(){function e(){o(this,e),this.oSimpleHooks={},this.aUserViewModelsHooks=[],this.aAdminViewModelsHooks=[]}return s(e,[{key:"addHook",value:function(e,t){l.default.isFunc(t)&&(l.default.isArray(this.oSimpleHooks[e])||(this.oSimpleHooks[e]=[]),this.oSimpleHooks[e].push(t))}},{key:"runHook",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];l.default.isArray(this.oSimpleHooks[e])&&r._.each(this.oSimpleHooks[e],function(e){e.apply(null,t)})}},{key:"mainSettingsGet",value:function(e){return p.default.settingsGet(e)}},{key:"remoteRequest",value:function(e,t,i,n){c.default.__APP__&&c.default.__APP__.remote().defaultRequest(e,"Plugin"+t,i,n)}},{key:"addSettingsViewModel",value:function(e,t,i,n){this.aUserViewModelsHooks.push([e,t,i,n])}},{key:"addSettingsViewModelForAdmin",value:function(e,t,i,n){this.aAdminViewModelsHooks.push([e,t,i,n])}},{key:"runSettingsViewModelHooks",value:function(e){var t=i(5);r._.each(e?this.aAdminViewModelsHooks:this.aUserViewModelsHooks,function(e){t.addSettingsViewModel(e[0],e[1],e[2],e[3])})}},{key:"settingsGet",value:function(e,t){var i=p.default.settingsGet("Plugins");return i=i&&!l.default.isUnd(i[e])?i[e]:null,i?l.default.isUnd(i[t])?null:i[t]:null}}]),e}();e.exports=new f},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(1),l=n(a),u=i(23),c=n(u),d=function(){function e(){o(this,e),this.subs={}}return s(e,[{key:"sub",value:function(e,t,i){var n=this;return l.default.isObject(e)?(i=t||null,t=null,r._.each(e,function(e,t){n.sub(t,e,i)},this)):(l.default.isUnd(this.subs[e])&&(this.subs[e]=[]),this.subs[e].push([t,i])),this}},{key:"pub",value:function(e,t){return c.default.runHook("rl-pub",[e,t]),l.default.isUnd(this.subs[e])||r._.each(this.subs[e],function(e){e[0]&&e[0].apply(e[1]||null,t||[])}),this}}]),e}();e.exports=new d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=i(12),a=i(6),l=n(a),u=function(){function e(){var t=this;o(this,e),this._moment=null,this._momentNow=0,this.updateMomentNow=r._.debounce(function(){t._moment=r.moment()},500,!0),this.updateMomentNowUnix=r._.debounce(function(){t._momentNow=r.moment().unix()},500,!0),this.format=r._.bind(this.format,this)}return s(e,[{key:"momentNow",value:function(){return this.updateMomentNow(),this._moment||r.moment()}},{key:"momentNowUnix",value:function(){return this.updateMomentNowUnix(),this._momentNow||0}},{key:"searchSubtractFormatDateHelper",value:function(e){return this.momentNow().clone().subtract("days",e).format("YYYY.MM.DD")}},{key:"formatCustomShortDate",value:function(e){var t=this.momentNow();if(e&&t)switch(!0){case 4>=t.diff(e,"hours"):return e.fromNow();case t.format("L")===e.format("L"):return l.default.i18n("MESSAGE_LIST/TODAY_AT",{TIME:e.format("LT")});case t.clone().subtract("days",1).format("L")===e.format("L"):return l.default.i18n("MESSAGE_LIST/YESTERDAY_AT",{TIME:e.format("LT")});case t.year()===e.year():return e.format("D MMM.")}return e?e.format("LL"):""}},{key:"format",value:function(e,t){var i=null,n="",o=this.momentNowUnix();if(e=e>0?e:0===e?o:0,e=e>o?o:e,i=e>0?r.moment.unix(e):null,i&&1970===i.year()&&(i=null),i)switch(t){case"FROMNOW":n=i.fromNow();break;case"SHORT":n=this.formatCustomShortDate(i);break;case"FULL":n=i.format("LLL");break;default:n=i.format(t)}return n}},{key:"momentToNode",value:function(e){var t="",i=0,n=r.$(e);i=n.data("moment-time"),i&&(t=n.data("moment-format"),t&&n.text(this.format(i,t)),t=n.data("moment-format-title"),t&&n.attr("title",this.format(i,t)))}},{key:"momentToNodes",value:function(e){var t=this;r._.defer(function(){r.$(".moment",e).each(function(e,i){t.momentToNode(i)})})}},{key:"reload",value:function(){this.momentToNodes(r.window.document)}}]),e}();e.exports=new u},,,function(e,t,i){!function(){"use strict";function t(e,t,i,n){this.email=e||"",this.name=t||"",this.dkimStatus=i||"none",this.dkimValue=n||"",this.clearDuplicateName()}var n=i(1);t.newInstanceFromJson=function(e){var i=new t;return i.initByJson(e)?i:null},t.splitHelper=function(e,t){t=t||";",e=e.replace(/[\r\n]+/g,"; ").replace(/[\s]+/g," ");for(var i=0,n=e.length,o=!1,s="",r="";n>i;i++){switch(s=e.charAt(i)){case"@":o=!0;break;case" ":o&&(o=!1,r+=t)}r+=s}return r.split(t)},t.prototype.name="",t.prototype.email="",t.prototype.dkimStatus="none",t.prototype.dkimValue="",t.prototype.clear=function(){this.email="",this.name="",this.dkimStatus="none",this.dkimValue=""},t.prototype.validate=function(){return""!==this.name||""!==this.email},t.prototype.hash=function(e){return"#"+(e?"":this.name)+"#"+this.email+"#"},t.prototype.clearDuplicateName=function(){this.name===this.email&&(this.name="")},t.prototype.search=function(e){return-1<(this.name+" "+this.email).toLowerCase().indexOf(e.toLowerCase())},t.prototype.parse=function(e){this.clear(),e=n.trim(e);var t=/(?:"([^"]+)")? ?[<]?(.*?@[^>,]+)>?,? ?/g,i=t.exec(e);i?(this.name=i[1]||"",this.email=i[2]||"",this.clearDuplicateName()):/^[^@]+@[^@]+$/.test(e)&&(this.name="",this.email=e)},t.prototype.initByJson=function(e){var t=!1;return e&&"Object/Email"===e["@Object"]&&(this.name=n.trim(e.Name),this.email=n.trim(e.Email),this.dkimStatus=n.trim(e.DkimStatus||""),this.dkimValue=n.trim(e.DkimValue||""),t=""!==this.email,this.clearDuplicateName()),t},t.prototype.toLine=function(e,t,i){var o="";return""!==this.email&&(t=n.isUnd(t)?!1:!!t,i=n.isUnd(i)?!1:!!i,e&&""!==this.name?o=t?'<a href="mailto:'+n.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+n.encodeHtml(this.name)+"</a>":i?n.encodeHtml(this.name):this.name:(o=this.email,""!==this.name?t?o=n.encodeHtml('"'+this.name+'" <')+'<a href="mailto:'+n.encodeHtml('"'+this.name+'" <'+this.email+">")+'" target="_blank" tabindex="-1">'+n.encodeHtml(o)+"</a>"+n.encodeHtml(">"):(o='"'+this.name+'" <'+o+">",i&&(o=n.encodeHtml(o))):t&&(o='<a href="mailto:'+n.encodeHtml(this.email)+'" target="_blank" tabindex="-1">'+n.encodeHtml(this.email)+"</a>"))),o},t.prototype.mailsoParse=function(e){if(e=n.trim(e),""===e)return!1;for(var t=function(e,t,i){e+="";var n=e.length;return 0>t&&(t+=n),n="undefined"==typeof i?n:0>i?i+n:i+t,t>=e.length||0>t||t>n?!1:e.slice(t,n)},i=function(e,t,i,n){return 0>i&&(i+=e.length),n=void 0!==n?n:e.length,0>n&&(n=n+e.length-i),e.slice(0,i)+t.substr(0,n)+t.slice(n)+e.slice(i+n)},o="",s="",r="",a=!1,l=!1,u=!1,c=null,d=0,p=0,f=0;f<e.length;){switch(e.substr(f,1)){case'"':a||l||u?l||u||(p=f,o=t(e,d+1,p-d-1),e=i(e,"",d,p-d+1),p=0,f=0,d=0,a=!1):(a=!0,d=f);break;case"<":a||l||u||(f>0&&0===o.length&&(o=t(e,0,f)),l=!0,d=f);break;case">":l&&(p=f,s=t(e,d+1,p-d-1),e=i(e,"",d,p-d+1),p=0,f=0,d=0,l=!1);break;case"(":a||l||u||(u=!0,d=f);break;case")":u&&(p=f,r=t(e,d+1,p-d-1),e=i(e,"",d,p-d+1),p=0,f=0,d=0,u=!1);break;case"\\":f++}f++}return 0===s.length&&(c=e.match(/[^@\s]+@\S+/i),c&&c[0]?s=c[0]:o=e),s.length>0&&0===o.length&&0===r.length&&(o=e.replace(s,"")),s=n.trim(s).replace(/^[<]+/,"").replace(/[>]+$/,""),o=n.trim(o).replace(/^["']+/,"").replace(/["']+$/,""),r=n.trim(r).replace(/^[(]+/,"").replace(/[)]+$/,""),o=o.replace(/\\\\(.)/g,"$1"),r=r.replace(/\\\\(.)/g,"$1"),this.name=o,this.email=s,this.clearDuplicateName(),!0},e.exports=t}()},,,,,function(e,t,i){!function(){"use strict";function t(){this.google={},this.twitter={},this.facebook={},this.dropbox={},this.google.enabled=n.observable(!1),this.google.clientID=n.observable(""),this.google.clientSecret=n.observable(""),this.google.apiKey=n.observable(""),this.google.loading=n.observable(!1),this.google.userName=n.observable(""),this.google.loggined=n.computed(function(){return""!==this.google.userName()},this),this.google.capa={},this.google.capa.auth=n.observable(!1),this.google.capa.authFast=n.observable(!1),this.google.capa.drive=n.observable(!1),this.google.capa.preview=n.observable(!1),this.google.require={},this.google.require.clientSettings=n.computed(function(){return this.google.enabled()&&(this.google.capa.auth()||this.google.capa.drive())},this),this.google.require.apiKeySettings=n.computed(function(){return this.google.enabled()&&this.google.capa.drive()},this),this.facebook.enabled=n.observable(!1),this.facebook.appID=n.observable(""),this.facebook.appSecret=n.observable(""),this.facebook.loading=n.observable(!1),this.facebook.userName=n.observable(""),this.facebook.supported=n.observable(!1),this.facebook.loggined=n.computed(function(){return""!==this.facebook.userName()},this),this.twitter.enabled=n.observable(!1),this.twitter.consumerKey=n.observable(""),this.twitter.consumerSecret=n.observable(""),this.twitter.loading=n.observable(!1),this.twitter.userName=n.observable(""),this.twitter.loggined=n.computed(function(){return""!==this.twitter.userName()},this),this.dropbox.enabled=n.observable(!1),this.dropbox.apiKey=n.observable("")}var n=i(2);t.prototype.google={},t.prototype.twitter={},t.prototype.facebook={},t.prototype.dropbox={},t.prototype.populate=function(){var e=i(9);this.google.enabled(!!e.settingsGet("AllowGoogleSocial")),this.google.clientID(e.settingsGet("GoogleClientID")),this.google.clientSecret(e.settingsGet("GoogleClientSecret")),this.google.apiKey(e.settingsGet("GoogleApiKey")),this.google.capa.auth(!!e.settingsGet("AllowGoogleSocialAuth")),this.google.capa.authFast(!!e.settingsGet("AllowGoogleSocialAuthFast")),this.google.capa.drive(!!e.settingsGet("AllowGoogleSocialDrive")),this.google.capa.preview(!!e.settingsGet("AllowGoogleSocialPreview")),this.facebook.enabled(!!e.settingsGet("AllowFacebookSocial")),this.facebook.appID(e.settingsGet("FacebookAppID")),this.facebook.appSecret(e.settingsGet("FacebookAppSecret")),this.facebook.supported(!!e.settingsGet("SupportedFacebookSocial")),this.twitter.enabled=n.observable(!!e.settingsGet("AllowTwitterSocial")),this.twitter.consumerKey=n.observable(e.settingsGet("TwitterConsumerKey")),this.twitter.consumerSecret=n.observable(e.settingsGet("TwitterConsumerSecret")),this.dropbox.enabled(!!e.settingsGet("AllowDropboxSocial")),this.dropbox.apiKey(e.settingsGet("DropboxApiKey"))},e.exports=new t}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function g(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:g(o,t,i)}if("value"in n)return n.value;var s=n.get;return void 0===s?void 0:s.call(i)},u=i(2),c=n(u),d=i(9),p=n(d),f=i(78),h=function(e){function t(){o(this,t);var e=s(this,Object.getPrototypeOf(t).call(this));return e.determineUserLanguage=c.default.observable(!1),e.determineUserDomain=c.default.observable(!1),e.weakPassword=c.default.observable(!1),e.useLocalProxyForExternalImages=c.default.observable(!1),e}return r(t,e),a(t,[{key:"populate",value:function(){l(Object.getPrototypeOf(t.prototype),"populate",this).call(this),this.determineUserLanguage(!!p.default.settingsGet("DetermineUserLanguage")),this.determineUserDomain(!!p.default.settingsGet("DetermineUserDomain")),this.weakPassword(!!p.default.settingsGet("WeakPassword")),this.useLocalProxyForExternalImages(!!p.default.settingsGet("UseLocalProxyForExternalImages"))}}]),t}(f.AbstractAppStore);e.exports=new h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AbstractInput=void 0;var l=i(2),u=n(l),c=i(1),d=n(c),p=i(4),f=i(16),h=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this));return i.value=e.value||"",i.size=e.size||0,i.label=e.label||"",i.preLabel=e.preLabel||"",i.enable=d.default.isUnd(e.enable)?!0:e.enable,i.trigger=e.trigger&&e.trigger.subscribe?e.trigger:null,i.placeholder=e.placeholder||"",i.labeled=!d.default.isUnd(e.label),i.preLabeled=!d.default.isUnd(e.preLabel),i.triggered=!d.default.isUnd(e.trigger)&&!!i.trigger,i.classForTrigger=u.default.observable(""),i.className=u.default.computed(function(){var e=u.default.unwrap(i.size),t=i.trigger?" "+d.default.trim("settings-saved-trigger-input "+i.classForTrigger()):"";return(e>0?"span"+e:"")+t},i),!d.default.isUnd(e.width)&&e.element&&e.element.find("input,select,textarea").css("width",e.width),i.disposable.push(i.className),i.trigger&&(i.setTriggerState(i.trigger()),i.disposable.push(i.trigger.subscribe(i.setTriggerState,i))),i}return r(t,e),a(t,[{key:"setTriggerState",value:function(e){switch(d.default.pInt(e)){case p.SaveSettingsStep.TrueResult:this.classForTrigger("success");break;case p.SaveSettingsStep.FalseResult:this.classForTrigger("error");break;default:this.classForTrigger("")}}}]),t}(f.AbstractComponent);t.AbstractInput=h,t.default=h},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=i(16),a=i(46),l=function(e){function t(){return n(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),t}(a.AbstracCheckbox);e.exports=r.componentExportHelper(l,"CheckboxComponent")},function(e,t,i){!function(){"use strict";function t(e,t){this.sScreenName=e,this.aViewModels=s.isArray(t)?t:[]}var n=i(3),o=i(49),s=i(1);t.prototype.oCross=null,t.prototype.sScreenName="",t.prototype.aViewModels=[],t.prototype.viewModels=function(){return this.aViewModels},t.prototype.screenName=function(){return this.sScreenName},t.prototype.routes=function(){return null},t.prototype.__cross=function(){return this.oCross},t.prototype.__start=function(){var e=this.routes(),t=null,i=null;s.isNonEmptyArray(e)&&(i=n.bind(this.onRoute||s.emptyFunction,this),t=o.create(),n.each(e,function(e){t.addRoute(e[0],i).rules=e[1]}),this.oCross=t)},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.languages=n.observableArray([]),this.languagesAdmin=n.observableArray([]),this.language=n.observable("").extend({limitedList:this.languages}),this.languageAdmin=n.observable("").extend({limitedList:this.languagesAdmin}),this.userLanguage=n.observable(""),this.userLanguageAdmin=n.observable("")}var n=i(2),o=i(1),s=i(9);t.prototype.populate=function(){var e=s.settingsGet("Languages"),t=s.settingsGet("LanguagesAdmin");this.languages(o.isArray(e)?e:[]),this.languagesAdmin(o.isArray(t)?t:[]),this.language(s.settingsGet("Language")),this.languageAdmin(s.settingsGet("LanguageAdmin")),this.userLanguage(s.settingsGet("UserLanguage")),this.userLanguageAdmin(s.settingsGet("UserLanguageAdmin"))},e.exports=new t}()},function(e){e.exports=window.JSON},,function(e,t,i){!function(){"use strict";function t(){this.themes=n.observableArray([]),this.themeBackgroundName=n.observable(""),this.themeBackgroundHash=n.observable(""),this.theme=n.observable("").extend({limitedList:this.themes})}var n=i(2),o=i(1),s=i(9);t.prototype.populate=function(){var e=s.settingsGet("Themes");this.themes(o.isArray(e)?e:[]),this.theme(s.settingsGet("Theme")),this.themeBackgroundName(s.settingsGet("UserBackgroundName")),this.themeBackgroundHash(s.settingsGet("UserBackgroundHash"))},e.exports=new t}()},function(e,t,i){!function(){"use strict";function t(){c.call(this,"Popups","PopupsAsk"),this.askDesc=o.observable(""),this.yesButton=o.observable(""),this.noButton=o.observable(""),this.yesFocus=o.observable(!1),this.noFocus=o.observable(!1),this.fYesAction=null,this.fNoAction=null,this.bFocusYesOnShow=!0,this.bDisabeCloseOnEsc=!0,this.sDefaultKeyScope=r.KeyState.PopupAsk,u.constructorEnd(this)}var n=i(3),o=i(2),s=i(18),r=i(4),a=i(1),l=i(6),u=i(5),c=i(10);u.extendAsViewModel(["View/Popup/Ask","PopupsAskViewModel"],t),n.extend(t.prototype,c.prototype),t.prototype.clearPopup=function(){this.askDesc(""),this.yesButton(l.i18n("POPUPS_ASK/BUTTON_YES")),this.noButton(l.i18n("POPUPS_ASK/BUTTON_NO")),this.yesFocus(!1),this.noFocus(!1),this.fYesAction=null,this.fNoAction=null},t.prototype.yesClick=function(){this.cancelCommand(),a.isFunc(this.fYesAction)&&this.fYesAction.call(null)},t.prototype.noClick=function(){this.cancelCommand(),a.isFunc(this.fNoAction)&&this.fNoAction.call(null)},t.prototype.onShow=function(e,t,i,n,o,s){this.clearPopup(),this.fYesAction=t||null,this.fNoAction=i||null,this.askDesc(e||""),n&&this.yesButton(n),n&&this.yesButton(o),this.bFocusYesOnShow=a.isUnd(s)?!0:!!s},t.prototype.onShowWithDelay=function(){this.bFocusYesOnShow&&this.yesFocus(!0)},t.prototype.onBuild=function(){s("tab, shift+tab, right, left",r.KeyState.PopupAsk,n.bind(function(){return this.yesFocus()?this.noFocus(!0):this.yesFocus(!0),!1},this)),s("esc",r.KeyState.PopupAsk,n.bind(function(){return this.noClick(),!1},this))},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){a.call(this,"Popups","PopupsLanguages");var e=this;this.fLang=null,this.userLanguage=o.observable(""),this.langs=o.observableArray([]),this.languages=o.computed(function(){var t=e.userLanguage();return n.map(e.langs(),function(e){return{key:e,user:e===t,selected:o.observable(!1),fullName:s.convertLangName(e)}})}),this.langs.subscribe(function(){this.setLanguageSelection()},this),r.constructorEnd(this)}var n=i(3),o=i(2),s=i(1),r=i(5),a=i(10);r.extendAsViewModel(["View/Popup/Languages","PopupsLanguagesViewModel"],t),n.extend(t.prototype,a.prototype),t.prototype.languageTooltipName=function(e){var t=s.convertLangName(e,!0);return s.convertLangName(e,!1)===t?"":t},t.prototype.setLanguageSelection=function(){var e=this.fLang?o.unwrap(this.fLang):"";n.each(this.languages(),function(t){t.selected(t.key===e)})},t.prototype.onBeforeShow=function(){this.fLang=null,this.userLanguage(""),this.langs([])},t.prototype.onShow=function(e,t,i){this.fLang=e,this.userLanguage(i||""),this.langs(t)},t.prototype.changeLanguage=function(e){this.fLang&&this.fLang(e),this.cancelCommand()},e.exports=t}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HtmlEditor=void 0;var r=i(12),a=i(8),l=n(a),u=i(9),c=n(u),d=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],s=arguments.length<=3||void 0===arguments[3]?null:arguments[3];o(this,e),this.editor=null,this.$element=null,this.blurTimer=0,this.onBlur=null,this.onReady=null,this.onModeChange=null,this.__inited=null,this.onBlur=i,this.onReady=n,this.onModeChange=s,this.$element=$(t),this.resize=r._.throttle(r._.bind(this.resize,this),100),this.__inited=!1,this.init()}return s(e,[{key:"blurTrigger",value:function(){var e=this;this.onBlur&&(r.window.clearTimeout(this.blurTimer),this.blurTimer=r.window.setTimeout(function(){e.onBlur()},200))}},{key:"focusTrigger",value:function(){this.onBlur&&r.window.clearTimeout(this.blurTimer)}},{key:"isHtml",value:function(){return this.editor?"wysiwyg"===this.editor.mode:!1}},{key:"setSignature",value:function(e,t,i){this.editor&&this.editor.execCommand("insertSignature",{isHtml:t,insertBefore:i,signature:e})}},{key:"checkDirty",value:function(){return this.editor?this.editor.checkDirty():!1}},{key:"resetDirty",value:function(){this.editor&&this.editor.resetDirty()}},{key:"clearSignatureSigns",value:function(e){return e.replace(/(\u200C|\u0002)/g,"")}},{key:"getData",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i="";if(this.editor){try{i="plain"===this.editor.mode&&this.editor.plugins.plain&&this.editor.__plain?this.editor.__plain.getRawData():e?'<div data-html-editor-font-wrapper="true" style="font-family: arial, sans-serif; font-size: 13px;">'+this.editor.getData()+"</div>":this.editor.getData()}catch(n){}t&&(i=this.clearSignatureSigns(i))}return i}},{key:"getDataWithHtmlMark",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return(this.isHtml()?":HTML:":"")+this.getData(e,t)}},{key:"modeToggle",value:function(e,t){if(this.editor){try{e?"plain"===this.editor.mode&&this.editor.setMode("wysiwyg"):"wysiwyg"===this.editor.mode&&this.editor.setMode("plain")}catch(i){}t&&this.resize()}}},{key:"setHtmlOrPlain",value:function(e,t){":HTML:"===e.substr(0,6)?this.setHtml(e.substr(6),t):this.setPlain(e,t)}},{key:"setHtml",value:function(e,t){if(this.editor&&this.__inited){this.modeToggle(!0),e=e.replace(/<p[^>]*><\/p>/gi,"");try{this.editor.setData(e)
}catch(i){}t&&this.focus()}}},{key:"replaceHtml",value:function(e,t){if(this.editor&&this.__inited&&"wysiwyg"===this.editor.mode)try{this.editor.setData(this.editor.getData().replace(e,t))}catch(i){}}},{key:"setPlain",value:function(e,t){if(this.editor&&this.__inited){if(this.modeToggle(!1),"plain"===this.editor.mode&&this.editor.plugins.plain&&this.editor.__plain)return this.editor.__plain.setRawData(e);try{this.editor.setData(e)}catch(i){}t&&this.focus()}}},{key:"init",value:function(){var e=this;if(this.$element&&this.$element[0]&&!this.editor){var t=function(){var t=l.default.oHtmlEditorDefaultConfig,i=c.default.settingsGet("Language"),n=!!c.default.settingsGet("AllowHtmlEditorSourceButton"),o=!!c.default.settingsGet("AllowHtmlEditorBitiButtons");!n&&o||t.toolbarGroups.__cfgInited||(t.toolbarGroups.__cfgInited=!0,n&&(t.removeButtons=t.removeButtons.replace(",Source","")),o||(t.removePlugins+=(t.removePlugins?",":"")+"bidi")),t.enterMode=r.window.CKEDITOR.ENTER_BR,t.shiftEnterMode=r.window.CKEDITOR.ENTER_P,t.language=l.default.oHtmlEditorLangsMap[i]||"en",r.window.CKEDITOR.env&&(r.window.CKEDITOR.env.isCompatible=!0),e.editor=r.window.CKEDITOR.appendTo(e.$element[0],t),e.editor.on("key",function(e){return e&&e.data&&9===e.data.keyCode?!1:void 0}),e.editor.on("blur",function(){e.blurTrigger()}),e.editor.on("mode",function(){e.blurTrigger(),e.onModeChange&&e.onModeChange("plain"!==e.editor.mode)}),e.editor.on("focus",function(){e.focusTrigger()}),r.window.FileReader&&e.editor.on("drop",function(t){if(0<t.data.dataTransfer.getFilesCount()){var i=t.data.dataTransfer.getFile(0);if(i&&r.window.FileReader&&t.data.dataTransfer.id&&i.type&&i.type.match(/^image/i)){var n=t.data.dataTransfer.id,o="[img="+n+"]",s=new r.window.FileReader;s.onloadend=function(){s.result&&e.replaceHtml(o,'<img src="'+s.result+'" />')},s.readAsDataURL(i),t.data.dataTransfer.setData("text/html",o)}}}),e.editor.on("instanceReady",function(){e.editor.removeMenuItem&&(e.editor.removeMenuItem("cut"),e.editor.removeMenuItem("copy"),e.editor.removeMenuItem("paste")),e.__resizable=!0,e.__inited=!0,e.resize(),e.onReady&&e.onReady()})};r.window.CKEDITOR?t():r.window.__initEditor=t}}},{key:"focus",value:function(){if(this.editor)try{this.editor.focus()}catch(e){}}},{key:"hasFocus",value:function(){if(this.editor)try{return!!this.editor.focusManager.hasFocus}catch(e){}return!1}},{key:"blur",value:function(){if(this.editor)try{this.editor.focusManager.blur(!0)}catch(e){}}},{key:"resize",value:function(){if(this.editor&&this.__resizable)try{this.editor.resize(this.$element.width(),this.$element.innerHeight())}catch(e){}}},{key:"setReadOnly",value:function(e){if(this.editor)try{this.editor.setReadOnly(!!e)}catch(t){}}},{key:"clear",value:function(e){this.setHtml("",e)}}]),e}();t.HtmlEditor=d,t.default=d,e.exports=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AbstracCheckbox=void 0;var l=i(2),u=n(l),c=i(1),d=n(c),p=i(16),f=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this));return i.value=e.value,(d.default.isUnd(i.value)||!i.value.subscribe)&&(i.value=u.default.observable(d.default.isUnd(i.value)?!1:!!i.value)),i.enable=e.enable,(d.default.isUnd(i.enable)||!i.enable.subscribe)&&(i.enable=u.default.observable(d.default.isUnd(i.enable)?!0:!!i.enable)),i.disable=e.disable,(d.default.isUnd(i.disable)||!i.disable.subscribe)&&(i.disable=u.default.observable(d.default.isUnd(i.disable)?!1:!!i.disable)),i.label=e.label||"",i.inline=d.default.isUnd(e.inline)?!1:e.inline,i.readOnly=d.default.isUnd(e.readOnly)?!1:!!e.readOnly,i.inverted=d.default.isUnd(e.inverted)?!1:!!e.inverted,i.labeled=!d.default.isUnd(e.label),i.labelAnimated=!!e.labelAnimated,i}return r(t,e),a(t,[{key:"click",value:function(){this.readOnly||!this.enable()||this.disable()||this.value(!this.value())}}]),t}(p.AbstractComponent);t.AbstracCheckbox=f,t.default=f},,function(e){e.exports=window.Q},function(e){e.exports=window.crossroads},function(e,t,i){!function(){"use strict";function t(){this.additionalAccounts=n.observable(!1),this.identities=n.observable(!1),this.gravatar=n.observable(!1),this.attachmentThumbnails=n.observable(!1),this.sieve=n.observable(!1),this.filters=n.observable(!1),this.themes=n.observable(!0),this.userBackground=n.observable(!1),this.openPGP=n.observable(!1),this.twoFactorAuth=n.observable(!1),this.twoFactorAuthForce=n.observable(!1),this.templates=n.observable(!1)}var n=i(2),o=i(4),s=i(9);t.prototype.populate=function(){this.additionalAccounts(s.capa(o.Capa.AdditionalAccounts)),this.identities(s.capa(o.Capa.Identities)),this.gravatar(s.capa(o.Capa.Gravatar)),this.attachmentThumbnails(s.capa(o.Capa.AttachmentThumbnails)),this.sieve(s.capa(o.Capa.Sieve)),this.filters(s.capa(o.Capa.Filters)),this.themes(s.capa(o.Capa.Themes)),this.userBackground(s.capa(o.Capa.UserBackground)),this.openPGP(s.capa(o.Capa.OpenPGP)),this.twoFactorAuth(s.capa(o.Capa.TwoFactor)),this.twoFactorAuthForce(s.capa(o.Capa.TwoFactorForce)),this.templates(s.capa(o.Capa.Templates))},e.exports=new t}()},,,,function(e){e.exports=window.moment},function(e,t,i){!function(){"use strict";var t=i(13),n=t.Opentip;n.styles.rainloop={"extends":"standard",fixed:!0,target:!0,delay:.2,hideDelay:0,hideEffect:"fade",hideEffectDuration:.2,showEffect:"fade",showEffectDuration:.2,showOn:"mouseover click",removeElementsOnHide:!0,background:"#fff",shadow:!1,borderColor:"#999",borderRadius:2,borderWidth:1},n.styles.rainloopTip={"extends":"rainloop",delay:.4,group:"rainloopTips"},n.styles.rainloopErrorTip={"extends":"rainloop",className:"rainloopErrorTip"},e.exports=n}()},function(e,t,i){!function(){"use strict";function t(){this.oRequests={}}var n=i(13),o=i(3),s=i(14),r=i(17),a=i(4),l=i(8),u=i(1),c=i(23),d=i(11),p=i(9);t.prototype.oRequests={},t.prototype.defaultResponse=function(e,t,i,n,s,d){var p=function(){a.StorageResultType.Success!==i&&l.bUnload&&(i=a.StorageResultType.Unload),a.StorageResultType.Success===i&&n&&!n.Result?(n&&-1<u.inArray(n.ErrorCode,[a.Notification.AuthError,a.Notification.AccessError,a.Notification.ConnectionError,a.Notification.DomainNotAllowed,a.Notification.AccountNotAllowed,a.Notification.MailServerError,a.Notification.UnknownNotification,a.Notification.UnknownError])&&l.iAjaxErrorCount++,n&&a.Notification.InvalidToken===n.ErrorCode&&l.iTokenErrorCount++,r.TOKEN_ERROR_LIMIT<l.iTokenErrorCount&&l.__APP__&&l.__APP__.loginAndLogoutReload&&l.__APP__.loginAndLogoutReload(!1,!0),(n.ClearAuth||n.Logout||r.AJAX_ERROR_LIMIT<l.iAjaxErrorCount)&&l.__APP__&&l.__APP__.clearClientSideToken&&(l.__APP__.clearClientSideToken(),!n.ClearAuth&&l.__APP__.loginAndLogoutReload&&l.__APP__.loginAndLogoutReload(!1,!0))):a.StorageResultType.Success===i&&n&&n.Result&&(l.iAjaxErrorCount=0,l.iTokenErrorCount=0),e&&(c.runHook("ajax-default-response",[t,a.StorageResultType.Success===i?n:null,i,s,d]),e(i,a.StorageResultType.Success===i?n:null,s,t,d))};switch(i){case"success":i=a.StorageResultType.Success;break;case"abort":i=a.StorageResultType.Abort;break;default:i=a.StorageResultType.Error}a.StorageResultType.Error===i?o.delay(p,300):p()},t.prototype.ajaxRequest=function(e,t,i,r,a){var l=this,c=""===r,f={},h=(new n.Date).getTime(),g=null,m="";return t=t||{},i=u.isNormal(i)?i:2e4,r=u.isUnd(r)?"":u.pString(r),a=u.isArray(a)?a:[],m=t.Action||"",m&&0<a.length&&o.each(a,function(e){l.oRequests[e]&&(l.oRequests[e].__aborted=!0,l.oRequests[e].abort&&l.oRequests[e].abort(),l.oRequests[e]=null)}),c&&(t.XToken=p.settingsGet("Token")),g=s.ajax({type:c?"POST":"GET",url:d.ajax(r),async:!0,dataType:"json",data:c?t:{},headers:f,timeout:i,global:!0}),g.always(function(i,o){var s=!1;i&&i.Time&&(s=u.pInt(i.Time)>(new n.Date).getTime()-h),m&&l.oRequests[m]&&(l.oRequests[m].__aborted&&(o="abort"),l.oRequests[m]=null),l.defaultResponse(e,m,o,i,s,t)}),m&&0<a.length&&-1<u.inArray(m,a)&&(this.oRequests[m]&&(this.oRequests[m].__aborted=!0,this.oRequests[m].abort&&this.oRequests[m].abort(),this.oRequests[m]=null),this.oRequests[m]=g),g},t.prototype.defaultRequest=function(e,t,i,n,o,s){return i=i||{},i.Action=t,o=u.pString(o),c.runHook("ajax-default-request",[t,i,o]),this.ajaxRequest(e,i,u.isUnd(n)?r.DEFAULT_AJAX_TIMEOUT:u.pInt(n),o,s)},t.prototype.noop=function(e){this.defaultRequest(e,"Noop")},t.prototype.jsError=function(e,t,i,n,o,s,r){this.defaultRequest(e,"JsError",{Message:t,FileName:i,LineNo:n,Location:o,HtmlCapa:s,TimeOnPage:r})},t.prototype.jsInfo=function(e,t,i,n){this.defaultRequest(e,"JsInfo",{Type:t,Data:i,IsError:(u.isUnd(n)?1:!n)?"0":"1"})},t.prototype.getPublicKey=function(e){this.defaultRequest(e,"GetPublicKey")},t.prototype.jsVersion=function(e,t){this.defaultRequest(e,"Version",{Version:t})},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(e){c.call(this,"settings",e),this.menu=s.observableArray([]),this.oCurrentSubScreen=null,this.oViewModelPlace=null,this.setupSettings()}var n=i(3),o=i(14),s=i(2),r=i(8),a=i(1),l=i(11),u=i(5),c=i(38);n.extend(t.prototype,c.prototype),t.prototype.setupSettings=function(e){e&&e()},t.prototype.onRoute=function(e){var t=this,i=null,c=null,d=null,p=null;c=n.find(r.aViewModels.settings,function(t){return t&&t.__rlSettingsData&&e===t.__rlSettingsData.Route}),c&&(n.find(r.aViewModels["settings-removed"],function(e){return e&&e===c})&&(c=null),c&&n.find(r.aViewModels["settings-disabled"],function(e){return e&&e===c})&&(c=null)),c?(c.__builded&&c.__vm?i=c.__vm:(d=this.oViewModelPlace,d&&1===d.length?(i=new c,p=o("<div></div>").addClass("rl-settings-view-model").hide(),p.appendTo(d),i.viewModelDom=p,i.__rlSettingsData=c.__rlSettingsData,c.__dom=p,c.__builded=!0,c.__vm=i,s.applyBindingAccessorsToNode(p[0],{translatorInit:!0,template:function(){return{name:c.__rlSettingsData.Template}}},i),a.delegateRun(i,"onBuild",[p])):a.log("Cannot find sub settings view model position: SettingsSubScreen")),i&&n.defer(function(){t.oCurrentSubScreen&&(a.delegateRun(t.oCurrentSubScreen,"onHide"),t.oCurrentSubScreen.viewModelDom.hide()),t.oCurrentSubScreen=i,t.oCurrentSubScreen&&(a.delegateRun(t.oCurrentSubScreen,"onBeforeShow"),t.oCurrentSubScreen.viewModelDom.show(),a.delegateRun(t.oCurrentSubScreen,"onShow"),a.delegateRun(t.oCurrentSubScreen,"onShowWithDelay",[],200),n.each(t.menu(),function(e){e.selected(i&&i.__rlSettingsData&&e.route===i.__rlSettingsData.Route)}),o("#rl-content .b-settings .b-content .content").scrollTop(0)),a.windowResize()})):u.setHash(l.settings(),!1,!0)},t.prototype.onHide=function(){this.oCurrentSubScreen&&this.oCurrentSubScreen.viewModelDom&&(a.delegateRun(this.oCurrentSubScreen,"onHide"),this.oCurrentSubScreen.viewModelDom.hide())},t.prototype.onBuild=function(){n.each(r.aViewModels.settings,function(e){e&&e.__rlSettingsData&&!n.find(r.aViewModels["settings-removed"],function(t){return t&&t===e})&&this.menu.push({route:e.__rlSettingsData.Route,label:e.__rlSettingsData.Label,selected:s.observable(!1),disabled:!!n.find(r.aViewModels["settings-disabled"],function(t){return t&&t===e})})},this),this.oViewModelPlace=o("#rl-content #rl-settings-subscreen")},t.prototype.routes=function(){var e=n.find(r.aViewModels.settings,function(e){return e&&e.__rlSettingsData&&e.__rlSettingsData.IsDefault}),t=e?e.__rlSettingsData.Route:"general",i={subname:/^(.*)$/,normalize_:function(e,i){return i.subname=a.isUnd(i.subname)?t:a.pString(i.subname),[i.subname]}};return[["{subname}/",i],["{subname}",i],["",i]]},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.domains=n.observableArray([]),this.domains.loading=n.observable(!1).extend({throttle:100})}var n=i(2);e.exports=new t}()},function(e,t,i){!function(){"use strict";function t(){this.licensing=n.observable(!1),this.licensingProcess=n.observable(!1),this.licenseValid=n.observable(!1),this.licenseExpired=n.observable(0),this.licenseError=n.observable(""),this.licenseTrigger=n.observable(!1)}var n=i(2);e.exports=new t}()},function(e,t,i){!function(){"use strict";function t(){this.packages=n.observableArray([]),this.packages.loading=n.observable(!1).extend({throttle:100}),this.packagesReal=n.observable(!0),this.packagesMainUpdatable=n.observable(!0)}var n=i(2);e.exports=new t}()},function(e,t,i){!function(){"use strict";function t(){this.plugins=n.observableArray([]),this.plugins.loading=n.observable(!1).extend({throttle:100}),this.plugins.error=n.observable("")}var n=i(2);e.exports=new t}()},,,,,function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AbstractApp=void 0;var u=i(12),c=i(8),d=o(c),p=i(4),f=n(p),h=i(1),g=o(h),m=i(11),b=o(m),v=i(25),S=o(v),y=i(6),w=o(y),A=i(9),_=o(A),T=i(77),C=function(e){function t(e){s(this,t);var i=r(this,Object.getPrototypeOf(t).call(this));return i.googlePreviewSupportedCache=null,i.isLocalAutocomplete=!0,i.iframe=null,i.iframe=u.$('<iframe style="display:none" src="javascript:;" />').appendTo("body"),d.default.$win.on("error",function(t){t&&t.originalEvent&&t.originalEvent.message&&-1===g.default.inArray(t.originalEvent.message,["Script error.","Uncaught Error: Error calling method on NPObject."])&&e.jsError(g.default.emptyFunction,t.originalEvent.message,t.originalEvent.filename,t.originalEvent.lineno,u.window.location&&u.window.location.toString?u.window.location.toString():"",d.default.$html.attr("class"),g.default.microtime()-d.default.startMicrotime)}),d.default.$win.on("resize",function(){S.default.pub("window.resize")}),S.default.sub("window.resize",u._.throttle(function(){var e=d.default.$win.height(),t=d.default.$win.height();(d.default.$win.__sizes[0]!==e||d.default.$win.__sizes[1]!==t)&&(d.default.$win.__sizes[0]=e,d.default.$win.__sizes[1]=t,S.default.pub("window.resize.real"))},50)),d.default.$doc.on("keydown",function(e){e&&e.ctrlKey&&d.default.$html.addClass("rl-ctrl-key-pressed")}).on("keyup",function(e){e&&!e.ctrlKey&&d.default.$html.removeClass("rl-ctrl-key-pressed")}),d.default.$doc.on("mousemove keypress click",u._.debounce(function(){S.default.pub("rl.auto-logout-refresh")},5e3)),u.key("esc, enter",f.KeyState.All,u._.bind(function(){g.default.detectDropdownVisibility()},i)),i}return a(t,e),l(t,[{key:"remote",value:function(){return null}},{key:"data",value:function(){return null}},{key:"download",value:function(e){if(d.default.sUserAgent&&(d.default.sUserAgent.indexOf("chrome")>-1||d.default.sUserAgent.indexOf("chrome")>-1)){var t=u.window.document.createElement("a");if(t.href=e,u.window.document.createEvent){var i=u.window.document.createEvent("MouseEvents");if(i&&i.initEvent&&t.dispatchEvent)return i.initEvent("click",!0,!0),t.dispatchEvent(i),!0}}return d.default.bMobileDevice?(u.window.open(e,"_self"),u.window.focus()):this.iframe.attr("src",e),!0}},{key:"googlePreviewSupported",value:function(){return null===this.googlePreviewSupportedCache&&(this.googlePreviewSupportedCache=!!_.default.settingsGet("AllowGoogleSocial")&&!!_.default.settingsGet("AllowGoogleSocialPreview")),this.googlePreviewSupportedCache}},{key:"setWindowTitle",value:function(e){e=g.default.isNormal(e)&&0<e.length?""+e:"",_.default.settingsGet("Title")&&(e+=(e?" - ":"")+_.default.settingsGet("Title")),u.window.document.title=e+" ...",u.window.document.title=e}},{key:"redirectToAdminPanel",value:function(){u._.delay(function(){return u.window.location.href=b.default.rootAdmin()},100)}},{key:"clearClientSideToken",value:function(){u.window.__rlah_clear&&u.window.__rlah_clear()}},{key:"setClientSideToken",value:function(e){u.window.__rlah_set&&(u.window.__rlah_set(e),i(9).settingsSet("AuthAccountHash",e),i(11).populateAuthSuffix())}},{key:"loginAndLogoutReload",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=i(5),s=!!_.default.settingsGet("InIframe"),r=g.default.pString(_.default.settingsGet("CustomLogoutLink"));t&&this.clearClientSideToken(),t&&n&&u.window.close&&u.window.close(),r=r||(e?b.default.rootAdmin():b.default.rootUser()),t&&u.window.location.href!==r?u._.delay(function(){s&&u.window.parent?u.window.parent.location.href=r:u.window.location.href=r},100):(o.routeOff(),o.setHash(b.default.root(),!0),o.routeOff(),u._.delay(function(){s&&u.window.parent?u.window.parent.location.reload():u.window.location.reload()},100))}},{key:"historyBack",value:function(){u.window.history.back()}},{key:"bootstart",value:function(){S.default.pub("rl.bootstart");var e=i(85),t=i(2);t.components.register("SaveTrigger",i(73)),t.components.register("Input",i(70)),t.components.register("Select",i(75)),t.components.register("Radio",i(72)),t.components.register("TextArea",i(76)),t.components.register("x-script",i(74)),_.default.settingsGet("MaterialDesign")&&d.default.bAnimationSupported?(t.components.register("Checkbox",i(71)),t.components.register("CheckboxSimple",i(37))):(t.components.register("Checkbox",i(37)),t.components.register("CheckboxSimple",i(37))),w.default.initOnStartOrLangChange(w.default.initNotificationLanguage,w.default),u._.delay(g.default.windowResizeCallback,1e3),e.addState({id:"mobile",maxWidth:767,onEnter:function(){d.default.$html.addClass("ssm-state-mobile"),S.default.pub("ssm.mobile-enter")},onLeave:function(){d.default.$html.removeClass("ssm-state-mobile"),S.default.pub("ssm.mobile-leave")}}),e.addState({id:"tablet",minWidth:768,maxWidth:999,onEnter:function(){d.default.$html.addClass("ssm-state-tablet")},onLeave:function(){d.default.$html.removeClass("ssm-state-tablet")}}),e.addState({id:"desktop",minWidth:1e3,maxWidth:1400,onEnter:function(){d.default.$html.addClass("ssm-state-desktop")},onLeave:function(){d.default.$html.removeClass("ssm-state-desktop")}}),e.addState({id:"desktop-large",minWidth:1400,onEnter:function(){d.default.$html.addClass("ssm-state-desktop-large")},onLeave:function(){d.default.$html.removeClass("ssm-state-desktop-large")}}),S.default.sub("ssm.mobile-enter",function(){d.default.leftPanelDisabled(!0)}),S.default.sub("ssm.mobile-leave",function(){d.default.leftPanelDisabled(!1)}),d.default.leftPanelDisabled.subscribe(function(e){d.default.$html.toggleClass("rl-left-panel-disabled",e)}),d.default.leftPanelType.subscribe(function(e){d.default.$html.toggleClass("rl-left-panel-none","none"===e),d.default.$html.toggleClass("rl-left-panel-short","short"===e)}),e.ready(),i(39).populate(),i(42).populate(),i(34).populate()}}]),t}(T.AbstractBoot);t.AbstractApp=C,t.default=C},,function(e){"use strict";e.exports={eml:"message/rfc822",mime:"message/rfc822",txt:"text/plain",text:"text/plain",def:"text/plain",list:"text/plain","in":"text/plain",ini:"text/plain",log:"text/plain",sql:"text/plain",cfg:"text/plain",conf:"text/plain",asc:"text/plain",rtx:"text/richtext",vcard:"text/vcard",vcf:"text/vcard",htm:"text/html",html:"text/html",csv:"text/csv",ics:"text/calendar",ifb:"text/calendar",xml:"text/xml",json:"application/json",swf:"application/x-shockwave-flash",hlp:"application/winhlp",wgt:"application/widget",chm:"application/vnd.ms-htmlhelp",p10:"application/pkcs10",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7s:"application/pkcs7-signature",torrent:"application/x-bittorrent",js:"application/javascript",pl:"text/perl",css:"text/css",asp:"text/asp",php:"application/x-httpd-php",php3:"application/x-httpd-php",php4:"application/x-httpd-php",php5:"application/x-httpd-php",phtml:"application/x-httpd-php",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",jfif:"image/jpeg",gif:"image/gif",bmp:"image/bmp",cgm:"image/cgm",ief:"image/ief",ico:"image/x-icon",tif:"image/tiff",tiff:"image/tiff",svg:"image/svg+xml",svgz:"image/svg+xml",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",webp:"image/webp",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",exe:"application/x-msdownload",dll:"application/x-msdownload",scr:"application/x-msdownload",com:"application/x-msdownload",bat:"application/x-msdownload",msi:"application/x-msdownload",cab:"application/vnd.ms-cab-compressed",gz:"application/x-gzip",tgz:"application/x-gzip",bz:"application/x-bzip",bz2:"application/x-bzip2",deb:"application/x-debian-package",psf:"application/x-font-linux-psf",otf:"application/x-font-otf",pcf:"application/x-font-pcf",snf:"application/x-font-snf",ttf:"application/x-font-ttf",ttc:"application/x-font-ttf",mp3:"audio/mpeg",amr:"audio/amr",aac:"audio/x-aac",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",wav:"audio/x-wav",wma:"audio/x-ms-wma",wax:"audio/x-ms-wax",midi:"audio/midi",mp4a:"audio/mp4",ogg:"audio/ogg",weba:"audio/webm",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rmp:"audio/x-pn-realaudio-plugin",m3u:"audio/x-mpegurl",flv:"video/x-flv",qt:"video/quicktime",mov:"video/quicktime",wmv:"video/windows-media",avi:"video/x-msvideo",mpg:"video/mpeg",mpeg:"video/mpeg",mpe:"video/mpeg",m1v:"video/mpeg",m2v:"video/mpeg","3gp":"video/3gpp","3g2":"video/3gpp2",h261:"video/h261",h263:"video/h263",h264:"video/h264",jpgv:"video/jpgv",mp4:"video/mp4",mp4v:"video/mp4",mpg4:"video/mp4",ogv:"video/ogg",webm:"video/webm",m4v:"video/x-m4v",asf:"video/x-ms-asf",asx:"video/x-ms-asf",wm:"video/x-ms-wm",wmx:"video/x-ms-wmx",wvx:"video/x-ms-wvx",movie:"video/x-sgi-movie",pdf:"application/pdf",psd:"image/vnd.adobe.photoshop",ai:"application/postscript",eps:"application/postscript",ps:"application/postscript",doc:"application/msword",dot:"application/msword",rtf:"application/rtf",xls:"application/vnd.ms-excel",ppt:"application/vnd.ms-powerpoint",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",odt:"application/vnd.oasis.opendocument.text",ods:"application/vnd.oasis.opendocument.spreadsheet"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AbstracRadio=void 0;var l=i(12),u=i(2),c=n(u),d=i(1),p=n(d),f=i(16),h=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this));return i.values=c.default.observableArray([]),i.value=e.value,(p.default.isUnd(i.value)||!i.value.subscribe)&&(i.value=c.default.observable("")),i.inline=p.default.isUnd(e.inline)?!1:e.inline,i.readOnly=p.default.isUnd(e.readOnly)?!1:!!e.readOnly,e.values&&i.values(l._.map(e.values,function(e,t){return{label:e,value:t}})),i.click=l._.bind(i.click,i),i}return r(t,e),a(t,[{key:"click",value:function(e){!this.readOnly&&e&&this.value(e.value)}}]),t}(f.AbstractComponent);t.AbstracRadio=h,t.default=h},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=i(16),a=i(36),l=function(e){function t(){return n(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),t}(a.AbstractInput);e.exports=r.componentExportHelper(l,"InputComponent")},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(12),u=i(2),c=n(u),d=i(16),p=i(46),f=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this,e));return i.animationBox=c.default.observable(!1).extend({falseTimeout:200}),i.animationCheckmark=c.default.observable(!1).extend({falseTimeout:200}),i.animationBoxSetTrue=l._.bind(i.animationBoxSetTrue,i),i.animationCheckmarkSetTrue=l._.bind(i.animationCheckmarkSetTrue,i),i.disposable.push(i.value.subscribe(function(e){i.triggerAnimation(e)},i)),i}return r(t,e),a(t,[{key:"animationBoxSetTrue",value:function(){this.animationBox(!0)}},{key:"animationCheckmarkSetTrue",value:function(){this.animationCheckmark(!0)}},{key:"triggerAnimation",value:function(e){e?(this.animationBoxSetTrue(),l._.delay(this.animationCheckmarkSetTrue,200)):(this.animationCheckmarkSetTrue(),l._.delay(this.animationBoxSetTrue,200))}}]),t}(p.AbstracCheckbox);e.exports=d.componentExportHelper(f,"CheckboxMaterialDesignComponent")},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=i(16),a=i(69),l=function(e){function t(){return n(this,t),o(this,Object.getPrototypeOf(t).apply(this,arguments))}return s(t,e),t}(a.AbstracRadio);e.exports=r.componentExportHelper(l,"RadioComponent")},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(1),u=n(l),c=i(4),d=i(16),p=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this));return i.element=e.element||null,i.value=e.value&&e.value.subscribe?e.value:null,i.element&&(i.value?(i.element.css("display","inline-block"),e.verticalAlign&&i.element.css("vertical-align",e.verticalAlign),i.setState(i.value()),i.disposable.push(i.value.subscribe(i.setState,i))):i.element.hide()),i}return r(t,e),a(t,[{key:"setState",value:function(e){switch(u.default.pInt(e)){case c.SaveSettingsStep.TrueResult:this.element.find(".animated,.error").hide().removeClass("visible").end().find(".success").show().addClass("visible");break;case c.SaveSettingsStep.FalseResult:this.element.find(".animated,.success").hide().removeClass("visible").end().find(".error").show().addClass("visible");break;case c.SaveSettingsStep.Animate:this.element.find(".error,.success").hide().removeClass("visible").end().find(".animated").show().addClass("visible");break;default:case c.SaveSettingsStep.Idle:this.element.find(".animated").hide().end().find(".error,.success").removeClass("visible")}}}]),t}(d.AbstractComponent);e.exports=d.componentExportHelper(p,"SaveTriggerComponent")},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=i(12),a=i(16),l=function(e){function t(e){n(this,t);var i=o(this,Object.getPrototypeOf(t).call(this));if(e.component&&e.component.templateNodes&&e.element&&e.element[0]&&e.element[0].outerHTML){var s=e.element[0].outerHTML;s=s?s.replace(/<x-script/i,"<script").replace(/<b><\/b><\/x-script>/i,"</script>"):"",s?(e.element.text(""),e.element.replaceWith(r.$(s).text(e.component.templateNodes[0]&&e.component.templateNodes[0].nodeValue?e.component.templateNodes[0].nodeValue:""))):e.element.remove()
}return i}return s(t,e),t}(a.AbstractComponent);e.exports=a.componentExportHelper(l,"ScriptComponent")},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=i(1),l=n(a),u=i(6),c=n(u),d=i(16),p=i(36),f=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this,e));return i.options=e.options||"",i.optionsText=e.optionsText||null,i.optionsValue=e.optionsValue||null,i.optionsCaption=e.optionsCaption||null,i.optionsCaption&&(i.optionsCaption=c.default.i18n(i.optionsCaption)),i.defautOptionsAfterRender=l.default.defautOptionsAfterRender,i}return r(t,e),t}(p.AbstractInput);e.exports=d.componentExportHelper(f,"SelectComponent")},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=i(1),l=n(a),u=i(16),c=i(36),d=function(e){function t(e){o(this,t);var i=s(this,Object.getPrototypeOf(t).call(this,e));return i.rows=e.rows||5,i.spellcheck=l.default.isUnd(e.spellcheck)?!1:!!e.spellcheck,i}return r(t,e),t}(c.AbstractInput);e.exports=u.componentExportHelper(d,"TextAreaComponent")},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){i(this,e)}return n(e,[{key:"bootstart",value:function(){}}]),e}();t.AbstractBoot=o,t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AbstractAppStore=void 0;var r=i(2),a=n(r),l=i(8),u=n(l),c=i(9),d=n(c),p=function(){function e(){o(this,e),this.allowLanguagesOnSettings=a.default.observable(!0),this.allowLanguagesOnLogin=a.default.observable(!0),this.interfaceAnimation=a.default.observable(!0),this.interfaceAnimation.subscribe(function(e){var t=u.default.bMobileDevice||!e;u.default.$html.toggleClass("rl-anim",!t).toggleClass("no-rl-anim",t)}),this.interfaceAnimation.valueHasMutated(),this.prem=a.default.observable(!1),this.community=a.default.observable(!0)}return s(e,[{key:"populate",value:function(){this.allowLanguagesOnLogin(!!d.default.settingsGet("AllowLanguagesOnLogin")),this.allowLanguagesOnSettings(!!d.default.settingsGet("AllowLanguagesOnSettings")),this.interfaceAnimation(!!d.default.settingsGet("InterfaceAnimation")),this.prem(!!d.default.settingsGet("PremType")),this.community(!!d.default.settingsGet("Community"))}}]),e}();t.AbstractAppStore=p,t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=i(13),n=i(3),o=i(14),s=i(8),r=i(23),a=i(1),l=i(4),u=i(6),c=i(29);s.__APP__=e,s.$win.keydown(a.kill_CtrlA_CtrlS).unload(function(){s.bUnload=!0}),s.$html.addClass(s.bMobileDevice?"mobile":"no-mobile").on("click.dropdown.data-api",function(){a.detectDropdownVisibility()}),t.rl=t.rl||{},t.rl.i18n=n.bind(u.i18n,u),t.rl.addHook=n.bind(r.addHook,r),t.rl.settingsGet=n.bind(r.mainSettingsGet,r),t.rl.createCommand=a.createCommand,t.rl.addSettingsViewModel=n.bind(r.addSettingsViewModel,r),t.rl.pluginRemoteRequest=n.bind(r.remoteRequest,r),t.rl.pluginSettingsGet=n.bind(r.settingsGet,r),t.rl.EmailModel=c,t.rl.Enums=l,t.__APP_BOOT=function(i){o(n.delay(function(){o("#rl-check").is(":visible")||s.$html.addClass("no-css"),o("#rl-check").remove(),t.rainloopTEMPLATES&&t.rainloopTEMPLATES[0]?(o("#rl-templates").html(t.rainloopTEMPLATES[0]),n.delay(function(){e.bootstart(),s.$html.removeClass("no-js rl-booted-trigger").addClass("rl-booted")},10)):i(!1),t.__APP_BOOT=null},10))}}},function(e){e.exports=window.Autolinker},function(e){e.exports=window.JSEncrypt},,function(e){e.exports=window.hasher},function(e){e.exports=window.rainloopProgressJs},function(e){e.exports=window.ssm},,,,,function(e,t,i){!function(){"use strict";function t(){this.coreReal=n.observable(!0),this.coreChannel=n.observable("stable"),this.coreType=n.observable("stable"),this.coreUpdatable=n.observable(!0),this.coreAccess=n.observable(!0),this.coreWarning=n.observable(!1),this.coreChecking=n.observable(!1).extend({throttle:100}),this.coreUpdating=n.observable(!1).extend({throttle:100}),this.coreVersion=n.observable(""),this.coreRemoteVersion=n.observable(""),this.coreRemoteRelease=n.observable(""),this.coreVersionCompare=n.observable(-2)}var n=i(2);e.exports=new t}()},,,,function(e,t,i){!function(){"use strict";function t(){f.call(this,"Popups","PopupsActivate");var e=this;this.domain=o.observable(""),this.key=o.observable(""),this.key.focus=o.observable(!1),this.activationSuccessed=o.observable(!1),this.licenseTrigger=d.licenseTrigger,this.activateProcess=o.observable(!1),this.activateText=o.observable(""),this.activateText.isError=o.observable(!1),this.htmlDescription=o.computed(function(){return l.i18n("POPUPS_ACTIVATE/HTML_DESC",{DOMAIN:this.domain()})},this),this.key.subscribe(function(){this.activateText(""),this.activateText.isError(!1)},this),this.activationSuccessed.subscribe(function(e){e&&this.licenseTrigger(!this.licenseTrigger())},this),this.activateCommand=r.createCommand(this,function(){this.activateProcess(!0),this.validateSubscriptionKey()?c.licensingActivate(function(t,i){e.activateProcess(!1),s.StorageResultType.Success===t&&i.Result?!0===i.Result?(e.activationSuccessed(!0),e.activateText(l.i18n("POPUPS_ACTIVATE/SUBS_KEY_ACTIVATED")),e.activateText.isError(!1)):(e.activateText(i.Result),e.activateText.isError(!0),e.key.focus(!0)):i.ErrorCode?(e.activateText(l.getNotification(i.ErrorCode)),e.activateText.isError(!0),e.key.focus(!0)):(e.activateText(l.getNotification(s.Notification.UnknownError)),e.activateText.isError(!0),e.key.focus(!0))},this.domain(),this.key()):(this.activateProcess(!1),this.activateText(l.i18n("POPUPS_ACTIVATE/ERROR_INVALID_SUBS_KEY")),this.activateText.isError(!0),this.key.focus(!0))},function(){return!this.activateProcess()&&""!==this.domain()&&""!==this.key()&&!this.activationSuccessed()}),p.constructorEnd(this)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(17),l=i(6),u=i(9),c=i(19),d=i(59),p=i(5),f=i(10);p.extendAsViewModel(["View/Popup/Activate","PopupsActivateViewModel"],t),n.extend(t.prototype,f.prototype),t.prototype.onShow=function(e){this.domain(u.settingsGet("AdminDomain")),this.activateProcess()||(e=r.isUnd(e)?!1:!!e,this.key(e?a.RAINLOOP_TRIAL_KEY:""),this.activateText(""),this.activateText.isError(!1),this.activationSuccessed(!1))},t.prototype.onShowWithDelay=function(){this.activateProcess()||this.key.focus(!0)},t.prototype.validateSubscriptionKey=function(){var e=this.key();return""===e||a.RAINLOOP_TRIAL_KEY===e||!!/^RL[\d]+-[A-Z0-9\-]+Z$/.test(r.trim(e))},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){f.call(this,"Popups","PopupsDomain"),this.edit=o.observable(!1),this.saving=o.observable(!1),this.savingError=o.observable(""),this.page=o.observable("main"),this.sieveSettings=o.observable(!1),this.testing=o.observable(!1),this.testingDone=o.observable(!1),this.testingImapError=o.observable(!1),this.testingSieveError=o.observable(!1),this.testingSmtpError=o.observable(!1),this.testingImapErrorDesc=o.observable(""),this.testingSieveErrorDesc=o.observable(""),this.testingSmtpErrorDesc=o.observable(""),this.testingImapError.subscribe(function(e){e||this.testingImapErrorDesc("")},this),this.testingSieveError.subscribe(function(e){e||this.testingSieveErrorDesc("")},this),this.testingSmtpError.subscribe(function(e){e||this.testingSmtpErrorDesc("")},this),this.imapServerFocus=o.observable(!1),this.sieveServerFocus=o.observable(!1),this.smtpServerFocus=o.observable(!1),this.name=o.observable(""),this.name.focused=o.observable(!1),this.imapServer=o.observable(""),this.imapPort=o.observable(""+r.IMAP_DEFAULT_PORT),this.imapSecure=o.observable(s.ServerSecure.None),this.imapShortLogin=o.observable(!1),this.useSieve=o.observable(!1),this.sieveAllowRaw=o.observable(!1),this.sieveServer=o.observable(""),this.sievePort=o.observable(""+r.SIEVE_DEFAULT_PORT),this.sieveSecure=o.observable(s.ServerSecure.None),this.smtpServer=o.observable(""),this.smtpPort=o.observable(""+r.SMTP_DEFAULT_PORT),this.smtpSecure=o.observable(s.ServerSecure.None),this.smtpShortLogin=o.observable(!1),this.smtpAuth=o.observable(!0),this.smtpPhpMail=o.observable(!1),this.whiteList=o.observable(""),this.enableSmartPorts=o.observable(!1),this.allowSieve=o.computed(function(){return c.filters()&&c.sieve()},this),this.headerText=o.computed(function(){var e=this.name();return this.edit()?u.i18n("POPUPS_DOMAIN/TITLE_EDIT_DOMAIN",{NAME:e}):""===e?u.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN"):u.i18n("POPUPS_DOMAIN/TITLE_ADD_DOMAIN_WITH_NAME",{NAME:e})},this),this.domainDesc=o.computed(function(){var e=this.name();return!this.edit()&&e?u.i18n("POPUPS_DOMAIN/NEW_DOMAIN_DESC",{NAME:"*@"+e}):""},this),this.domainIsComputed=o.computed(function(){var e=this.smtpPhpMail(),t=this.allowSieve(),i=this.useSieve();return""!==this.name()&&""!==this.imapServer()&&""!==this.imapPort()&&(t&&i?""!==this.sieveServer()&&""!==this.sievePort():!0)&&(""!==this.smtpServer()&&""!==this.smtpPort()||e)},this),this.canBeTested=o.computed(function(){return!this.testing()&&this.domainIsComputed()},this),this.canBeSaved=o.computed(function(){return!this.saving()&&this.domainIsComputed()},this),this.createOrAddCommand=l.createCommand(this,function(){this.saving(!0),d.createOrUpdateDomain(n.bind(this.onDomainCreateOrSaveResponse,this),!this.edit(),this.name(),this.imapServer(),l.pInt(this.imapPort()),this.imapSecure(),this.imapShortLogin(),this.useSieve(),this.sieveAllowRaw(),this.sieveServer(),l.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),l.pInt(this.smtpPort()),this.smtpSecure(),this.smtpShortLogin(),this.smtpAuth(),this.smtpPhpMail(),this.whiteList())},this.canBeSaved),this.testConnectionCommand=l.createCommand(this,function(){this.page("main"),this.testingDone(!1),this.testingImapError(!1),this.testingSieveError(!1),this.testingSmtpError(!1),this.testing(!0),d.testConnectionForDomain(n.bind(this.onTestConnectionResponse,this),this.name(),this.imapServer(),l.pInt(this.imapPort()),this.imapSecure(),this.useSieve(),this.sieveServer(),l.pInt(this.sievePort()),this.sieveSecure(),this.smtpServer(),l.pInt(this.smtpPort()),this.smtpSecure(),this.smtpAuth(),this.smtpPhpMail())},this.canBeTested),this.whiteListCommand=l.createCommand(this,function(){this.page("white-list")}),this.backCommand=l.createCommand(this,function(){this.page("main")}),this.sieveCommand=l.createCommand(this,function(){this.sieveSettings(!this.sieveSettings()),this.clearTesting()}),this.page.subscribe(function(){this.sieveSettings(!1)},this),this.imapServerFocus.subscribe(function(e){e&&""!==this.name()&&""===this.imapServer()&&this.imapServer(this.name().replace(/[.]?[*][.]?/g,""))},this),this.sieveServerFocus.subscribe(function(e){e&&""!==this.imapServer()&&""===this.sieveServer()&&this.sieveServer(this.imapServer())},this),this.smtpServerFocus.subscribe(function(e){e&&""!==this.imapServer()&&""===this.smtpServer()&&this.smtpServer(this.imapServer().replace(/imap/gi,"smtp"))},this),this.imapSecure.subscribe(function(e){if(this.enableSmartPorts()){var t=l.pInt(this.imapPort());switch(e=l.pString(e)){case"0":993===t&&this.imapPort("143");break;case"1":143===t&&this.imapPort("993")}}},this),this.smtpSecure.subscribe(function(e){if(this.enableSmartPorts()){var t=l.pInt(this.smtpPort());switch(e=l.pString(e)){case"0":(465===t||587===t)&&this.smtpPort("25");break;case"1":(25===t||587===t)&&this.smtpPort("465");break;case"2":(25===t||465===t)&&this.smtpPort("587")}}},this),p.constructorEnd(this)}var n=i(3),o=i(2),s=i(4),r=i(17),a=i(8),l=i(1),u=i(6),c=i(50),d=i(19),p=i(5),f=i(10);p.extendAsViewModel(["View/Popup/Domain","PopupsDomainViewModel"],t),n.extend(t.prototype,f.prototype),t.prototype.onTestConnectionResponse=function(e,t){if(this.testing(!1),s.StorageResultType.Success===e&&t.Result){var i=!1,n=!1;this.testingDone(!0),this.testingImapError(!0!==t.Result.Imap),this.testingSieveError(!0!==t.Result.Sieve),this.testingSmtpError(!0!==t.Result.Smtp),this.testingImapError()&&t.Result.Imap&&(i=!0,this.testingImapErrorDesc(""),this.testingImapErrorDesc(t.Result.Imap)),this.testingSieveError()&&t.Result.Sieve&&(n=!0,this.testingSieveErrorDesc(""),this.testingSieveErrorDesc(t.Result.Sieve)),this.testingSmtpError()&&t.Result.Smtp&&(this.testingSmtpErrorDesc(""),this.testingSmtpErrorDesc(t.Result.Smtp)),this.sieveSettings()?!n&&i&&this.sieveSettings(!1):n&&!i&&this.sieveSettings(!0)}else this.testingImapError(!0),this.testingSieveError(!0),this.testingSmtpError(!0),this.sieveSettings(!1)},t.prototype.onDomainCreateOrSaveResponse=function(e,t){this.saving(!1),s.StorageResultType.Success===e&&t?t.Result?(i(20).default.reloadDomainList(),this.closeCommand()):s.Notification.DomainAlreadyExists===t.ErrorCode&&this.savingError(u.i18n("ERRORS/DOMAIN_ALREADY_EXISTS")):this.savingError(u.i18n("ERRORS/UNKNOWN_ERROR"))},t.prototype.clearTesting=function(){this.testing(!1),this.testingDone(!1),this.testingImapError(!1),this.testingSieveError(!1),this.testingSmtpError(!1)},t.prototype.onHide=function(){this.page("main"),this.sieveSettings(!1)},t.prototype.onShow=function(e){this.saving(!1),this.page("main"),this.sieveSettings(!1),this.clearTesting(),this.clearForm(),e&&(this.enableSmartPorts(!1),this.edit(!0),this.name(l.trim(e.Name)),this.imapServer(l.trim(e.IncHost)),this.imapPort(""+l.pInt(e.IncPort)),this.imapSecure(l.trim(e.IncSecure)),this.imapShortLogin(!!e.IncShortLogin),this.useSieve(!!e.UseSieve),this.sieveAllowRaw(!!e.SieveAllowRaw),this.sieveServer(l.trim(e.SieveHost)),this.sievePort(""+l.pInt(e.SievePort)),this.sieveSecure(l.trim(e.SieveSecure)),this.smtpServer(l.trim(e.OutHost)),this.smtpPort(""+l.pInt(e.OutPort)),this.smtpSecure(l.trim(e.OutSecure)),this.smtpShortLogin(!!e.OutShortLogin),this.smtpAuth(!!e.OutAuth),this.smtpPhpMail(!!e.OutUsePhpMail),this.whiteList(l.trim(e.WhiteList)),this.enableSmartPorts(!0))},t.prototype.onShowWithDelay=function(){""!==this.name()||a.bMobile||this.name.focused(!0)},t.prototype.clearForm=function(){this.edit(!1),this.page("main"),this.sieveSettings(!1),this.enableSmartPorts(!1),this.savingError(""),this.name(""),this.name.focused(!1),this.imapServer(""),this.imapPort(""+r.IMAP_DEFAULT_PORT),this.imapSecure(s.ServerSecure.None),this.imapShortLogin(!1),this.useSieve(!1),this.sieveAllowRaw(!1),this.sieveServer(""),this.sievePort(""+r.SIEVE_DEFAULT_PORT),this.sieveSecure(s.ServerSecure.None),this.smtpServer(""),this.smtpPort(""+r.SMTP_DEFAULT_PORT),this.smtpSecure(s.ServerSecure.None),this.smtpShortLogin(!1),this.smtpAuth(!0),this.smtpPhpMail(!1),this.whiteList(""),this.enableSmartPorts(!0)},e.exports=t}()},,,,,,,,,,,,,,,,,,,,function(e,t,i){!function(){"use strict";function t(){o.call(this,"login",[i(143)])}var n=i(3),o=i(38);n.extend(t.prototype,o.prototype),t.prototype.onShow=function(){i(20).default.setWindowTitle("")},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){r.call(this,[i(144),i(145)])}var n=i(3),o=i(5),s=i(23),r=i(57);n.extend(t.prototype,r.prototype),t.prototype.setupSettings=function(e){o.addSettingsViewModel(i(124),"AdminSettingsGeneral","TABS_LABELS/LABEL_GENERAL_NAME","general",!0),o.addSettingsViewModel(i(125),"AdminSettingsLogin","TABS_LABELS/LABEL_LOGIN_NAME","login"),o.addSettingsViewModel(i(128),"AdminSettingsBranding","TABS_LABELS/LABEL_BRANDING_NAME","branding"),o.addSettingsViewModel(i(122),"AdminSettingsContacts","TABS_LABELS/LABEL_CONTACTS_NAME","contacts"),o.addSettingsViewModel(i(123),"AdminSettingsDomains","TABS_LABELS/LABEL_DOMAINS_NAME","domains"),o.addSettingsViewModel(i(130),"AdminSettingsSecurity","TABS_LABELS/LABEL_SECURITY_NAME","security"),o.addSettingsViewModel(i(131),"AdminSettingsSocial","TABS_LABELS/LABEL_INTEGRATION_NAME","integrations"),o.addSettingsViewModel(i(127),"AdminSettingsPlugins","TABS_LABELS/LABEL_PLUGINS_NAME","plugins"),o.addSettingsViewModel(i(126),"AdminSettingsPackages","TABS_LABELS/LABEL_PACKAGES_NAME","packages"),o.addSettingsViewModel(i(129),"AdminSettingsLicensing","TABS_LABELS/LABEL_LICENSING_NAME","licensing"),o.addSettingsViewModel(i(120),"AdminSettingsAbout","TABS_LABELS/LABEL_ABOUT_NAME","about"),s.runSettingsViewModelHooks(!0),e&&e()},t.prototype.onShow=function(){i(20).default.setWindowTitle("")},e.exports=t}()},,,,function(e,t,i){!function(){"use strict";function t(){this.version=n.observable(s.settingsGet("Version")),this.access=n.observable(!!s.settingsGet("CoreAccess")),this.errorDesc=n.observable(""),this.coreReal=r.coreReal,this.coreChannel=r.coreChannel,this.coreType=r.coreType,this.coreUpdatable=r.coreUpdatable,this.coreAccess=r.coreAccess,this.coreChecking=r.coreChecking,this.coreUpdating=r.coreUpdating,this.coreWarning=r.coreWarning,this.coreVersion=r.coreVersion,this.coreRemoteVersion=r.coreRemoteVersion,this.coreRemoteRelease=r.coreRemoteRelease,this.coreVersionCompare=r.coreVersionCompare,this.community=!1||a.community(),this.coreRemoteVersionHtmlDesc=n.computed(function(){return o.trigger(),o.i18n("TAB_ABOUT/HTML_NEW_VERSION",{VERSION:this.coreRemoteVersion()})},this),this.statusType=n.computed(function(){var e="",t=this.coreVersionCompare(),i=this.coreChecking(),n=this.coreUpdating(),o=this.coreReal();return i?e="checking":n?e="updating":o&&0===t?e="up-to-date":o&&-1===t?e="available":o||(e="error",this.errorDesc("Cannot access the repository at the moment.")),e},this)}var n=i(2),o=i(6),s=i(9),r=i(90),a=i(35);t.prototype.onBuild=function(){this.access()&&!this.community&&i(20).default.reloadCoreData()},t.prototype.updateCoreData=function(){this.coreUpdating()||this.community||i(20).default.updateCoreData()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){var e=i(4),t=i(9),n=i(35);this.capa=n.prem,this.title=o.observable(t.settingsGet("Title")),this.title.trigger=o.observable(e.SaveSettingsStep.Idle),this.loadingDesc=o.observable(t.settingsGet("LoadingDescription")),this.loadingDesc.trigger=o.observable(e.SaveSettingsStep.Idle),this.faviconUrl=o.observable(t.settingsGet("FaviconUrl")),this.faviconUrl.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginLogo=o.observable(t.settingsGet("LoginLogo")||""),this.loginLogo.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginBackground=o.observable(t.settingsGet("LoginBackground")||""),this.loginBackground.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogo=o.observable(t.settingsGet("UserLogo")||""),this.userLogo.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogoMessage=o.observable(t.settingsGet("UserLogoMessage")||""),this.userLogoMessage.trigger=o.observable(e.SaveSettingsStep.Idle),this.userIframeMessage=o.observable(t.settingsGet("UserIframeMessage")||""),this.userIframeMessage.trigger=o.observable(e.SaveSettingsStep.Idle),this.userLogoTitle=o.observable(t.settingsGet("UserLogoTitle")||""),this.userLogoTitle.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginDescription=o.observable(t.settingsGet("LoginDescription")),this.loginDescription.trigger=o.observable(e.SaveSettingsStep.Idle),this.loginCss=o.observable(t.settingsGet("LoginCss")),this.loginCss.trigger=o.observable(e.SaveSettingsStep.Idle),this.userCss=o.observable(t.settingsGet("UserCss")),this.userCss.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageUrl=o.observable(t.settingsGet("WelcomePageUrl")),this.welcomePageUrl.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageDisplay=o.observable(t.settingsGet("WelcomePageDisplay")),this.welcomePageDisplay.trigger=o.observable(e.SaveSettingsStep.Idle),this.welcomePageDisplay.options=o.computed(function(){return r.trigger(),[{optValue:"none",optText:r.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_NONE")},{optValue:"once",optText:r.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ONCE")},{optValue:"always",optText:r.i18n("TAB_BRANDING/OPTION_WELCOME_PAGE_DISPLAY_ALWAYS")}]}),this.loginPowered=o.observable(!!t.settingsGet("LoginPowered")),this.community=!1||n.community()}var n=i(3),o=i(2),s=i(1),r=i(6);t.prototype.onBuild=function(){var e=this,t=i(19);n.delay(function(){var i=s.settingsSaveHelperSimpleFunction(e.title.trigger,e),n=s.settingsSaveHelperSimpleFunction(e.loadingDesc.trigger,e),o=s.settingsSaveHelperSimpleFunction(e.faviconUrl.trigger,e);e.title.subscribe(function(e){t.saveAdminConfig(i,{Title:s.trim(e)})}),e.loadingDesc.subscribe(function(e){t.saveAdminConfig(n,{LoadingDescription:s.trim(e)})}),e.faviconUrl.subscribe(function(e){t.saveAdminConfig(o,{FaviconUrl:s.trim(e)})})},50)},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){var e=i(19);this.defautOptionsAfterRender=r.defautOptionsAfterRender,this.enableContacts=o.observable(!!l.settingsGet("ContactsEnable")),this.contactsSharing=o.observable(!!l.settingsGet("ContactsSharing")),this.contactsSync=o.observable(!!l.settingsGet("ContactsSync"));var t=["sqlite","mysql","pgsql"],u=[],c=function(e){switch(e){case"sqlite":e="SQLite";break;case"mysql":e="MySQL";break;case"pgsql":e="PostgreSQL"}return e};l.settingsGet("SQLiteIsSupported")&&u.push("sqlite"),l.settingsGet("MySqlIsSupported")&&u.push("mysql"),l.settingsGet("PostgreSqlIsSupported")&&u.push("pgsql"),this.contactsSupported=0<u.length,this.contactsTypes=o.observableArray([]),this.contactsTypesOptions=this.contactsTypes.map(function(e){var t=-1===r.inArray(e,u);return{id:e,name:c(e)+(t?" ("+a.i18n("HINTS/NOT_SUPPORTED")+")":""),disabled:t}}),this.contactsTypes(t),this.contactsType=o.observable(""),this.mainContactsType=o.computed({owner:this,read:this.contactsType,write:function(e){e!==this.contactsType()?-1<r.inArray(e,u)?this.contactsType(e):0<u.length&&this.contactsType(""):this.contactsType.valueHasMutated()}}).extend({notify:"always"}),this.contactsType.subscribe(function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage("")},this),this.pdoDsn=o.observable(l.settingsGet("ContactsPdoDsn")),this.pdoUser=o.observable(l.settingsGet("ContactsPdoUser")),this.pdoPassword=o.observable(l.settingsGet("ContactsPdoPassword")),this.pdoDsnTrigger=o.observable(s.SaveSettingsStep.Idle),this.pdoUserTrigger=o.observable(s.SaveSettingsStep.Idle),this.pdoPasswordTrigger=o.observable(s.SaveSettingsStep.Idle),this.contactsTypeTrigger=o.observable(s.SaveSettingsStep.Idle),this.testing=o.observable(!1),this.testContactsSuccess=o.observable(!1),this.testContactsError=o.observable(!1),this.testContactsErrorMessage=o.observable(""),this.testContactsCommand=r.createCommand(this,function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage(""),this.testing(!0),e.testContacts(this.onTestContactsResponse,{ContactsPdoType:this.contactsType(),ContactsPdoDsn:this.pdoDsn(),ContactsPdoUser:this.pdoUser(),ContactsPdoPassword:this.pdoPassword()})},function(){return""!==this.pdoDsn()&&""!==this.pdoUser()}),this.contactsType(l.settingsGet("ContactsPdoType")),this.onTestContactsResponse=n.bind(this.onTestContactsResponse,this)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(6),l=i(9);t.prototype.onTestContactsResponse=function(e,t){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage(""),s.StorageResultType.Success===e&&t&&t.Result&&t.Result.Result?this.testContactsSuccess(!0):(this.testContactsError(!0),this.testContactsErrorMessage(t&&t.Result?t.Result.Message||"":"")),this.testing(!1)},t.prototype.onShow=function(){this.testContactsSuccess(!1),this.testContactsError(!1),this.testContactsErrorMessage("")},t.prototype.onBuild=function(){var e=this,t=i(19);n.delay(function(){var i=r.settingsSaveHelperSimpleFunction(e.pdoDsnTrigger,e),n=r.settingsSaveHelperSimpleFunction(e.pdoUserTrigger,e),o=r.settingsSaveHelperSimpleFunction(e.pdoPasswordTrigger,e),s=r.settingsSaveHelperSimpleFunction(e.contactsTypeTrigger,e);e.enableContacts.subscribe(function(e){t.saveAdminConfig(null,{ContactsEnable:e?"1":"0"})}),e.contactsSharing.subscribe(function(e){t.saveAdminConfig(null,{ContactsSharing:e?"1":"0"})}),e.contactsSync.subscribe(function(e){t.saveAdminConfig(null,{ContactsSync:e?"1":"0"})}),e.contactsType.subscribe(function(e){t.saveAdminConfig(s,{ContactsPdoType:e})}),e.pdoDsn.subscribe(function(e){t.saveAdminConfig(i,{ContactsPdoDsn:r.trim(e)})}),e.pdoUser.subscribe(function(e){t.saveAdminConfig(n,{ContactsPdoUser:r.trim(e)})}),e.pdoPassword.subscribe(function(e){t.saveAdminConfig(o,{ContactsPdoPassword:r.trim(e)})}),e.contactsType(l.settingsGet("ContactsPdoType"))},50)},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.domains=r.domains,this.visibility=o.computed(function(){return this.domains.loading()?"visible":"hidden"},this),this.domainForDeletion=o.observable(null).deleteAccessHelper()}var n=i(3),o=i(2),s=i(4),r=i(58),a=i(19);t.prototype.createDomain=function(){i(5).showScreenPopup(i(95))},t.prototype.deleteDomain=function(e){this.domains.remove(e),a.domainDelete(n.bind(this.onDomainListChangeRequest,this),e.name)},t.prototype.disableDomain=function(e){e.disabled(!e.disabled()),a.domainDisable(n.bind(this.onDomainListChangeRequest,this),e.name,e.disabled())},t.prototype.onBuild=function(e){var t=this;e.on("click",".b-admin-domains-list-table .e-item .e-action",function(){var e=o.dataFor(this);e&&a.domain(n.bind(t.onDomainLoadRequest,t),e.name)}),i(20).default.reloadDomainList()},t.prototype.onDomainLoadRequest=function(e,t){s.StorageResultType.Success===e&&t&&t.Result&&i(5).showScreenPopup(i(95),[t.Result])},t.prototype.onDomainListChangeRequest=function(){i(20).default.reloadDomainList()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.language=c.language,this.languages=c.languages,this.languageAdmin=c.languageAdmin,this.languagesAdmin=c.languagesAdmin,this.theme=u.theme,this.themes=u.themes,this.capaThemes=p.themes,this.capaUserBackground=p.userBackground,this.capaGravatar=p.gravatar,this.capaAdditionalAccounts=p.additionalAccounts,this.capaIdentities=p.identities,this.capaAttachmentThumbnails=p.attachmentThumbnails,this.capaTemplates=p.templates,this.allowLanguagesOnSettings=d.allowLanguagesOnSettings,this.weakPassword=d.weakPassword,this.mainAttachmentLimit=o.observable(r.pInt(f.settingsGet("AttachmentLimit"))/1048576).extend({posInterer:25}),this.uploadData=f.settingsGet("PhpUploadSizes"),this.uploadDataDesc=this.uploadData&&(this.uploadData.upload_max_filesize||this.uploadData.post_max_size)?[this.uploadData.upload_max_filesize?"upload_max_filesize = "+this.uploadData.upload_max_filesize+"; ":"",this.uploadData.post_max_size?"post_max_size = "+this.uploadData.post_max_size:""].join(""):"",this.themesOptions=o.computed(function(){return n.map(this.themes(),function(e){return{optValue:e,optText:r.convertThemeName(e)}})},this),this.languageFullName=o.computed(function(){return r.convertLangName(this.language())},this),this.languageAdminFullName=o.computed(function(){return r.convertLangName(this.languageAdmin())},this),this.attachmentLimitTrigger=o.observable(s.SaveSettingsStep.Idle),this.languageTrigger=o.observable(s.SaveSettingsStep.Idle),this.languageAdminTrigger=o.observable(s.SaveSettingsStep.Idle).extend({throttle:100}),this.themeTrigger=o.observable(s.SaveSettingsStep.Idle)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(11),l=i(6),u=i(42),c=i(39),d=i(35),p=i(50),f=i(9);t.prototype.onBuild=function(){var e=this,t=i(19);n.delay(function(){var i=r.settingsSaveHelperSimpleFunction(e.attachmentLimitTrigger,e),o=r.settingsSaveHelperSimpleFunction(e.languageTrigger,e),a=r.settingsSaveHelperSimpleFunction(e.themeTrigger,e),u=function(t){return function(){e.languageAdminTrigger(t),n.delay(function(){e.languageAdminTrigger(s.SaveSettingsStep.Idle)},1e3)}};e.mainAttachmentLimit.subscribe(function(e){t.saveAdminConfig(i,{AttachmentLimit:r.pInt(e)})}),e.language.subscribe(function(e){t.saveAdminConfig(o,{Language:r.trim(e)})}),e.languageAdmin.subscribe(function(i){e.languageAdminTrigger(s.SaveSettingsStep.Animate),l.reload(!0,i,u(s.SaveSettingsStep.TrueResult),u(s.SaveSettingsStep.FalseResult)),t.saveAdminConfig(null,{LanguageAdmin:r.trim(i)})}),e.theme.subscribe(function(i){r.changeTheme(i,e.themeTrigger),t.saveAdminConfig(a,{Theme:r.trim(i)})}),e.capaAdditionalAccounts.subscribe(function(e){t.saveAdminConfig(null,{CapaAdditionalAccounts:e?"1":"0"})}),e.capaIdentities.subscribe(function(e){t.saveAdminConfig(null,{CapaIdentities:e?"1":"0"})}),e.capaTemplates.subscribe(function(e){t.saveAdminConfig(null,{CapaTemplates:e?"1":"0"})}),e.capaGravatar.subscribe(function(e){t.saveAdminConfig(null,{CapaGravatar:e?"1":"0"})}),e.capaAttachmentThumbnails.subscribe(function(e){t.saveAdminConfig(null,{CapaAttachmentThumbnails:e?"1":"0"})}),e.capaThemes.subscribe(function(e){t.saveAdminConfig(null,{CapaThemes:e?"1":"0"})}),e.capaUserBackground.subscribe(function(e){t.saveAdminConfig(null,{CapaUserBackground:e?"1":"0"})}),e.allowLanguagesOnSettings.subscribe(function(e){t.saveAdminConfig(null,{AllowLanguagesOnSettings:e?"1":"0"})})},50)},t.prototype.selectLanguage=function(){i(5).showScreenPopup(i(44),[this.language,this.languages(),c.userLanguage()])},t.prototype.selectLanguageAdmin=function(){i(5).showScreenPopup(i(44),[this.languageAdmin,this.languagesAdmin(),c.userLanguageAdmin()])},t.prototype.phpInfoLink=function(){return a.phpInfo()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.determineUserLanguage=a.determineUserLanguage,this.determineUserDomain=a.determineUserDomain,this.defaultDomain=o.observable(l.settingsGet("LoginDefaultDomain")),this.allowLanguagesOnLogin=a.allowLanguagesOnLogin,this.defaultDomainTrigger=o.observable(s.SaveSettingsStep.Idle),this.dummy=o.observable(!1)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(35),l=i(9);t.prototype.onBuild=function(){var e=this,t=i(19);n.delay(function(){var i=r.settingsSaveHelperSimpleFunction(e.defaultDomainTrigger,e);e.determineUserLanguage.subscribe(function(e){t.saveAdminConfig(null,{DetermineUserLanguage:e?"1":"0"})}),e.determineUserDomain.subscribe(function(e){t.saveAdminConfig(null,{DetermineUserDomain:e?"1":"0"})}),e.allowLanguagesOnLogin.subscribe(function(e){t.saveAdminConfig(null,{AllowLanguagesOnLogin:e?"1":"0"})}),e.defaultDomain.subscribe(function(e){t.saveAdminConfig(i,{LoginDefaultDomain:r.trim(e)})})},50)},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.packagesError=s.observable(""),this.packages=l.packages,this.packagesReal=l.packagesReal,this.packagesMainUpdatable=l.packagesMainUpdatable,this.packagesCurrent=this.packages.filter(function(e){return e&&""!==e.installed&&!e.compare
}),this.packagesAvailableForUpdate=this.packages.filter(function(e){return e&&""!==e.installed&&!!e.compare}),this.packagesAvailableForInstallation=this.packages.filter(function(e){return e&&""===e.installed}),this.visibility=s.computed(function(){return l.packages.loading()?"visible":"hidden"},this)}var n=i(13),o=i(3),s=i(2),r=i(4),a=i(6),l=i(60),u=i(19);t.prototype.onShow=function(){this.packagesError("")},t.prototype.onBuild=function(){i(20).default.reloadPackagesList()},t.prototype.requestHelper=function(e,t){var s=this;return function(l,u){r.StorageResultType.Success===l&&u&&u.Result||s.packagesError(u&&u.ErrorCode?a.getNotification(u.ErrorCode):a.getNotification(t?r.Notification.CantInstallPackage:r.Notification.CantDeletePackage)),o.each(s.packages(),function(t){t&&e&&t.loading()&&e.file===t.file&&(e.loading(!1),t.loading(!1))}),r.StorageResultType.Success===l&&u&&u.Result&&u.Result.Reload?n.location.reload():i(20).default.reloadPackagesList()}},t.prototype.deletePackage=function(e){e&&(e.loading(!0),u.packageDelete(this.requestHelper(e,!1),e))},t.prototype.installPackage=function(e){e&&(e.loading(!0),u.packageInstall(this.requestHelper(e,!0),e))},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.enabledPlugins=o.observable(!!l.settingsGet("EnabledPlugins")),this.plugins=c.plugins,this.pluginsError=c.plugins.error,this.community=!1||u.community(),this.visibility=o.computed(function(){return c.plugins.loading()?"visible":"hidden"},this),this.onPluginLoadRequest=n.bind(this.onPluginLoadRequest,this),this.onPluginDisableRequest=n.bind(this.onPluginDisableRequest,this)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(6),l=i(9),u=i(35),c=i(61),d=i(19);t.prototype.disablePlugin=function(e){e.disabled(!e.disabled()),d.pluginDisable(this.onPluginDisableRequest,e.name,e.disabled())},t.prototype.configurePlugin=function(e){d.plugin(this.onPluginLoadRequest,e.name)},t.prototype.onBuild=function(e){var t=this;e.on("click",".e-item .configure-plugin-action",function(){var e=o.dataFor(this);e&&t.configurePlugin(e)}).on("click",".e-item .disabled-plugin",function(){var e=o.dataFor(this);e&&t.disablePlugin(e)}),this.enabledPlugins.subscribe(function(e){d.saveAdminConfig(r.emptyFunction,{EnabledPlugins:e?"1":"0"})})},t.prototype.onShow=function(){c.plugins.error(""),i(20).default.reloadPluginList()},t.prototype.onPluginLoadRequest=function(e,t){s.StorageResultType.Success===e&&t&&t.Result&&i(5).showScreenPopup(i(152),[t.Result])},t.prototype.onPluginDisableRequest=function(e,t){s.StorageResultType.Success===e&&t&&!t.Result&&t.ErrorCode&&c.plugins.error(s.Notification.UnsupportedPluginPackage===t.ErrorCode&&t.ErrorMessage&&""!==t.ErrorMessage?t.ErrorMessage:a.getNotification(t.ErrorCode)),i(20).default.reloadPluginList()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){s.call(this)}var n=i(3),o=i(1),s=i(121);t.prototype.onBuild=function(e){if(s.prototype.onBuild.call(this,e),this.capa&&this.capa()&&!this.community){var t=this,r=i(19);n.delay(function(){var e=o.settingsSaveHelperSimpleFunction(t.loginLogo.trigger,t),i=o.settingsSaveHelperSimpleFunction(t.loginDescription.trigger,t),n=o.settingsSaveHelperSimpleFunction(t.loginCss.trigger,t),s=o.settingsSaveHelperSimpleFunction(t.userLogo.trigger,t),a=o.settingsSaveHelperSimpleFunction(t.userLogoTitle.trigger,t),l=o.settingsSaveHelperSimpleFunction(t.loginBackground.trigger,t),u=o.settingsSaveHelperSimpleFunction(t.userCss.trigger,t),c=o.settingsSaveHelperSimpleFunction(t.welcomePageUrl.trigger,t),d=o.settingsSaveHelperSimpleFunction(t.welcomePageDisplay.trigger,t),p=o.settingsSaveHelperSimpleFunction(t.userLogoMessage.trigger,t),f=o.settingsSaveHelperSimpleFunction(t.userIframeMessage.trigger,t);t.loginLogo.subscribe(function(t){r.saveAdminConfig(e,{LoginLogo:o.trim(t)})}),t.loginDescription.subscribe(function(e){r.saveAdminConfig(i,{LoginDescription:o.trim(e)})}),t.loginCss.subscribe(function(e){r.saveAdminConfig(n,{LoginCss:o.trim(e)})}),t.userLogo.subscribe(function(e){r.saveAdminConfig(s,{UserLogo:o.trim(e)})}),t.userLogoTitle.subscribe(function(e){r.saveAdminConfig(a,{UserLogoTitle:o.trim(e)})}),t.userLogoMessage.subscribe(function(e){r.saveAdminConfig(p,{UserLogoMessage:o.trim(e)})}),t.userIframeMessage.subscribe(function(e){r.saveAdminConfig(f,{UserIframeMessage:o.trim(e)})}),t.loginBackground.subscribe(function(e){r.saveAdminConfig(l,{LoginBackground:o.trim(e)})}),t.userCss.subscribe(function(e){r.saveAdminConfig(u,{UserCss:o.trim(e)})}),t.welcomePageUrl.subscribe(function(e){r.saveAdminConfig(c,{WelcomePageUrl:o.trim(e)})}),t.welcomePageDisplay.subscribe(function(e){r.saveAdminConfig(d,{WelcomePageDisplay:o.trim(e)})}),t.loginPowered.subscribe(function(e){r.saveAdminConfig(null,{LoginPowered:e?"1":"0"})})},50)}},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.licensing=s.licensing,this.licensingProcess=s.licensingProcess,this.licenseValid=s.licenseValid,this.licenseExpired=s.licenseExpired,this.licenseError=s.licenseError,this.licenseTrigger=s.licenseTrigger,this.adminDomain=n.observable(""),this.subscriptionEnabled=n.observable(!!o.settingsGet("SubscriptionEnabled")),this.licenseTrigger.subscribe(function(){this.subscriptionEnabled()&&i(20).default.reloadLicensing(!0)},this)}var n=i(2),o=i(9),s=i(59);t.prototype.onBuild=function(){this.subscriptionEnabled()&&i(20).default.reloadLicensing(!1)},t.prototype.onShow=function(){this.adminDomain(o.settingsGet("AdminDomain"))},t.prototype.showActivationForm=function(){i(5).showScreenPopup(i(94))},t.prototype.showTrialForm=function(){i(5).showScreenPopup(i(94),[!0])},t.prototype.licenseIsUnlim=function(){return 1898625600===this.licenseExpired()||1898625700===this.licenseExpired()},t.prototype.licenseExpiredMomentValue=function(){var e=i(54),t=this.licenseExpired(),n=e.unix(t);return this.licenseIsUnlim()?"Never":t&&n.format("LL")+" ("+n.from(e())+")"},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){this.useLocalProxyForExternalImages=l.useLocalProxyForExternalImages,this.weakPassword=l.weakPassword,this.capaOpenPGP=u.openPGP,this.capaTwoFactorAuth=u.twoFactorAuth,this.capaTwoFactorAuthForce=u.twoFactorAuthForce,this.capaTwoFactorAuth.subscribe(function(e){e||this.capaTwoFactorAuthForce(!1)},this),this.verifySslCertificate=o.observable(!!c.settingsGet("VerifySslCertificate")),this.allowSelfSigned=o.observable(!!c.settingsGet("AllowSelfSigned")),this.verifySslCertificate.subscribe(function(e){e||this.allowSelfSigned(!0)},this),this.adminLogin=o.observable(c.settingsGet("AdminLogin")),this.adminLoginError=o.observable(!1),this.adminPassword=o.observable(""),this.adminPasswordNew=o.observable(""),this.adminPasswordNew2=o.observable(""),this.adminPasswordNewError=o.observable(!1),this.adminPasswordUpdateError=o.observable(!1),this.adminPasswordUpdateSuccess=o.observable(!1),this.adminPassword.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1)},this),this.adminLogin.subscribe(function(){this.adminLoginError(!1)},this),this.adminPasswordNew.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),this.adminPasswordNewError(!1)},this),this.adminPasswordNew2.subscribe(function(){this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),this.adminPasswordNewError(!1)},this),this.saveNewAdminPasswordCommand=r.createCommand(this,function(){return""===r.trim(this.adminLogin())?(this.adminLoginError(!0),!1):this.adminPasswordNew()!==this.adminPasswordNew2()?(this.adminPasswordNewError(!0),!1):(this.adminPasswordUpdateError(!1),this.adminPasswordUpdateSuccess(!1),void d.saveNewAdminPassword(this.onNewAdminPasswordResponse,{Login:this.adminLogin(),Password:this.adminPassword(),NewPassword:this.adminPasswordNew()}))},function(){return""!==r.trim(this.adminLogin())&&""!==this.adminPassword()}),this.onNewAdminPasswordResponse=n.bind(this.onNewAdminPasswordResponse,this)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(11),l=i(35),u=i(50),c=i(9),d=i(19);t.prototype.onNewAdminPasswordResponse=function(e,t){s.StorageResultType.Success===e&&t&&t.Result?(this.adminPassword(""),this.adminPasswordNew(""),this.adminPasswordNew2(""),this.adminPasswordUpdateSuccess(!0),this.weakPassword(!!t.Result.Weak)):this.adminPasswordUpdateError(!0)},t.prototype.onBuild=function(){this.capaOpenPGP.subscribe(function(e){d.saveAdminConfig(r.emptyFunction,{CapaOpenPGP:e?"1":"0"})}),this.capaTwoFactorAuth.subscribe(function(e){d.saveAdminConfig(r.emptyFunction,{CapaTwoFactorAuth:e?"1":"0"})}),this.capaTwoFactorAuthForce.subscribe(function(e){d.saveAdminConfig(r.emptyFunction,{CapaTwoFactorAuthForce:e?"1":"0"})}),this.useLocalProxyForExternalImages.subscribe(function(e){d.saveAdminConfig(null,{UseLocalProxyForExternalImages:e?"1":"0"})}),this.verifySslCertificate.subscribe(function(e){d.saveAdminConfig(null,{VerifySslCertificate:e?"1":"0"})}),this.allowSelfSigned.subscribe(function(e){d.saveAdminConfig(null,{AllowSelfSigned:e?"1":"0"})})},t.prototype.onHide=function(){this.adminPassword(""),this.adminPasswordNew(""),this.adminPasswordNew2("")},t.prototype.phpInfoLink=function(){return a.phpInfo()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){var e=i(34);this.googleEnable=e.google.enabled,this.googleEnableAuth=e.google.capa.auth,this.googleEnableAuthFast=e.google.capa.authFast,this.googleEnableDrive=e.google.capa.drive,this.googleEnablePreview=e.google.capa.preview,this.googleEnableRequireClientSettings=e.google.require.clientSettings,this.googleEnableRequireApiKey=e.google.require.apiKeySettings,this.googleClientID=e.google.clientID,this.googleClientSecret=e.google.clientSecret,this.googleApiKey=e.google.apiKey,this.googleTrigger1=o.observable(s.SaveSettingsStep.Idle),this.googleTrigger2=o.observable(s.SaveSettingsStep.Idle),this.googleTrigger3=o.observable(s.SaveSettingsStep.Idle),this.facebookSupported=e.facebook.supported,this.facebookEnable=e.facebook.enabled,this.facebookAppID=e.facebook.appID,this.facebookAppSecret=e.facebook.appSecret,this.facebookTrigger1=o.observable(s.SaveSettingsStep.Idle),this.facebookTrigger2=o.observable(s.SaveSettingsStep.Idle),this.twitterEnable=e.twitter.enabled,this.twitterConsumerKey=e.twitter.consumerKey,this.twitterConsumerSecret=e.twitter.consumerSecret,this.twitterTrigger1=o.observable(s.SaveSettingsStep.Idle),this.twitterTrigger2=o.observable(s.SaveSettingsStep.Idle),this.dropboxEnable=e.dropbox.enabled,this.dropboxApiKey=e.dropbox.apiKey,this.dropboxTrigger1=o.observable(s.SaveSettingsStep.Idle)}var n=i(3),o=i(2),s=i(4),r=i(1);t.prototype.onBuild=function(){var e=this,t=i(19);n.delay(function(){var i=r.settingsSaveHelperSimpleFunction(e.facebookTrigger1,e),n=r.settingsSaveHelperSimpleFunction(e.facebookTrigger2,e),o=r.settingsSaveHelperSimpleFunction(e.twitterTrigger1,e),s=r.settingsSaveHelperSimpleFunction(e.twitterTrigger2,e),a=r.settingsSaveHelperSimpleFunction(e.googleTrigger1,e),l=r.settingsSaveHelperSimpleFunction(e.googleTrigger2,e),u=r.settingsSaveHelperSimpleFunction(e.googleTrigger3,e),c=r.settingsSaveHelperSimpleFunction(e.dropboxTrigger1,e);e.facebookEnable.subscribe(function(i){e.facebookSupported()&&t.saveAdminConfig(r.emptyFunction,{FacebookEnable:i?"1":"0"})}),e.facebookAppID.subscribe(function(n){e.facebookSupported()&&t.saveAdminConfig(i,{FacebookAppID:r.trim(n)})}),e.facebookAppSecret.subscribe(function(i){e.facebookSupported()&&t.saveAdminConfig(n,{FacebookAppSecret:r.trim(i)})}),e.twitterEnable.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{TwitterEnable:e?"1":"0"})}),e.twitterConsumerKey.subscribe(function(e){t.saveAdminConfig(o,{TwitterConsumerKey:r.trim(e)})}),e.twitterConsumerSecret.subscribe(function(e){t.saveAdminConfig(s,{TwitterConsumerSecret:r.trim(e)})}),e.googleEnable.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{GoogleEnable:e?"1":"0"})}),e.googleEnableAuth.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{GoogleEnableAuth:e?"1":"0"})}),e.googleEnableDrive.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{GoogleEnableDrive:e?"1":"0"})}),e.googleEnablePreview.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{GoogleEnablePreview:e?"1":"0"})}),e.googleClientID.subscribe(function(e){t.saveAdminConfig(a,{GoogleClientID:r.trim(e)})}),e.googleClientSecret.subscribe(function(e){t.saveAdminConfig(l,{GoogleClientSecret:r.trim(e)})}),e.googleApiKey.subscribe(function(e){t.saveAdminConfig(u,{GoogleApiKey:r.trim(e)})}),e.dropboxEnable.subscribe(function(e){t.saveAdminConfig(r.emptyFunction,{DropboxEnable:e?"1":"0"})}),e.dropboxApiKey.subscribe(function(e){t.saveAdminConfig(c,{DropboxApiKey:r.trim(e)})})},50)},e.exports=t}()},,,,,,,,,,,,function(e,t,i){!function(){"use strict";function t(){d.call(this,"Center","AdminLogin"),this.logoPowered=!!l.settingsGet("LoginPowered"),this.login=o.observable(""),this.password=o.observable(""),this.loginError=o.observable(!1),this.passwordError=o.observable(!1),this.loginErrorAnimation=o.observable(!1).extend({falseTimeout:500}),this.passwordErrorAnimation=o.observable(!1).extend({falseTimeout:500}),this.loginFocus=o.observable(!1),this.formHidden=o.observable(!1),this.formError=o.computed(function(){return this.loginErrorAnimation()||this.passwordErrorAnimation()},this),this.login.subscribe(function(){this.loginError(!1)},this),this.password.subscribe(function(){this.passwordError(!1)},this),this.loginError.subscribe(function(e){this.loginErrorAnimation(!!e)},this),this.passwordError.subscribe(function(e){this.passwordErrorAnimation(!!e)},this),this.submitRequest=o.observable(!1),this.submitError=o.observable(""),this.submitCommand=r.createCommand(this,function(){return r.triggerAutocompleteInputChange(),this.loginError(!1),this.passwordError(!1),this.loginError(""===r.trim(this.login())),this.passwordError(""===r.trim(this.password())),this.loginError()||this.passwordError()?!1:(this.submitRequest(!0),u.adminLogin(n.bind(function(e,t){s.StorageResultType.Success===e&&t&&"AdminLogin"===t.Action?t.Result?i(20).default.loginAndLogoutReload(!0):t.ErrorCode&&(this.submitRequest(!1),this.submitError(a.getNotification(t.ErrorCode))):(this.submitRequest(!1),this.submitError(a.getNotification(s.Notification.UnknownError)))},this),this.login(),this.password()),!0)},function(){return!this.submitRequest()}),c.constructorEnd(this)}var n=i(3),o=i(2),s=i(4),r=i(1),a=i(6),l=i(9),u=i(19),c=i(5),d=i(10);c.extendAsViewModel(["View/Admin/Login","AdminLoginViewModel"],t),n.extend(t.prototype,d.prototype),t.prototype.onShow=function(){c.routeOff(),n.delay(n.bind(function(){this.loginFocus(!0)},this),100)},t.prototype.onHide=function(){this.loginFocus(!1)},t.prototype.onBuild=function(){r.triggerAutocompleteInputChange(!0)},t.prototype.submitForm=function(){this.submitCommand()},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(e){r.call(this,"Left","AdminMenu"),this.leftPanelDisabled=o.leftPanelDisabled,this.menu=e.menu,s.constructorEnd(this)}var n=i(3),o=i(8),s=i(5),r=i(10);s.extendAsViewModel(["View/Admin/Settings/Menu","AdminSettingsMenuViewModel"],t),n.extend(t.prototype,r.prototype),t.prototype.link=function(e){return"#/"+e},t.prototype.onBuild=function(e){key("up, down",n.throttle(function(t,i){var n="",o=-1,r=i&&"up"===i.shortcut,a=$(".b-admin-menu .e-item",e);t&&a.length&&(o=a.index(a.filter(".selected")),r&&o>0?o--:!r&&o<a.length-1&&o++,n=a.eq(o).attr("href"),n&&s.setHash(n,!1,!0))},200))},e.exports=t}()},function(e,t,i){!function(){"use strict";function t(){l.call(this,"Right","AdminPane"),this.adminDomain=o.observable(s.settingsGet("AdminDomain")),this.version=o.observable(s.settingsGet("Version")),this.capa=!!s.settingsGet("PremType"),this.community=!1,this.adminManLoading=o.computed(function(){return"000"!==[i(58).domains.loading()?"1":"0",i(61).plugins.loading()?"1":"0",i(60).packages.loading()?"1":"0"].join("")},this),this.adminManLoadingVisibility=o.computed(function(){return this.adminManLoading()?"visible":"hidden"},this).extend({rateLimit:300}),a.constructorEnd(this)}var n=i(3),o=i(2),s=i(9),r=i(19),a=i(5),l=i(10);a.extendAsViewModel(["View/Admin/Settings/Pane","AdminSettingsPaneViewModel"],t),n.extend(t.prototype,l.prototype),t.prototype.logoutClick=function(){r.adminLogout(function(){i(20).default.loginAndLogoutReload(!0,!0)})},e.exports=t}()},,,,,,,function(e,t,i){!function(){"use strict";function t(){d.call(this,"Popups","PopupsPlugin");var e=this;this.onPluginSettingsUpdateResponse=n.bind(this.onPluginSettingsUpdateResponse,this),this.saveError=o.observable(""),this.name=o.observable(""),this.readme=o.observable(""),this.configures=o.observableArray([]),this.hasReadme=o.computed(function(){return""!==this.readme()},this),this.hasConfiguration=o.computed(function(){return 0<this.configures().length},this),this.readmePopoverConf={placement:"right",trigger:"hover",title:l.i18n("POPUPS_PLUGIN/TOOLTIP_ABOUT_TITLE"),container:"body",html:!0,content:function(){return"<pre>"+e.readme()+"</pre>"}},this.saveCommand=a.createCommand(this,function(){var e={};e.Name=this.name(),n.each(this.configures(),function(t){var i=t.value();(!1===i||!0===i)&&(i=i?"1":"0"),e["_"+t.Name]=i},this),this.saveError(""),u.pluginSettingsUpdate(this.onPluginSettingsUpdateResponse,e)},this.hasConfiguration),this.bDisabeCloseOnEsc=!0,this.sDefaultKeyScope=r.KeyState.All,this.tryToClosePopup=n.debounce(n.bind(this.tryToClosePopup,this),200),c.constructorEnd(this)}var n=i(3),o=i(2),s=i(18),r=i(4),a=i(1),l=i(6),u=i(19),c=i(5),d=i(10);c.extendAsViewModel(["View/Popup/Plugin","PopupsPluginViewModel"],t),n.extend(t.prototype,d.prototype),t.prototype.onPluginSettingsUpdateResponse=function(e,t){r.StorageResultType.Success===e&&t&&t.Result?this.cancelCommand():(this.saveError(""),this.saveError(t&&t.ErrorCode?l.getNotification(t.ErrorCode):l.getNotification(r.Notification.CantSavePluginSettings)))},t.prototype.onShow=function(e){if(this.name(),this.readme(),this.configures([]),e){this.name(e.Name),this.readme(e.Readme);var t=e.Config;a.isNonEmptyArray(t)&&this.configures(n.map(t,function(e){return{value:o.observable(e[0]),placeholder:o.observable(e[6]),Name:e[1],Type:e[2],Label:e[3],Default:e[4],Desc:e[5]}}))}},t.prototype.tryToClosePopup=function(){var e=this,t=i(43);c.isPopupVisible(t)||c.showScreenPopup(t,[l.i18n("POPUPS_ASK/DESC_WANT_CLOSE_THIS_WINDOW"),function(){e.modalVisibility()&&a.delegateRun(e,"cancelCommand")}])},t.prototype.onBuild=function(){s("esc",r.KeyState.All,n.bind(function(){return this.modalVisibility()&&this.tryToClosePopup(),!1},this))},e.exports=t}()}]);
